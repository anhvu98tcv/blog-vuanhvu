-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Jun 04, 2024 at 04:57 PM
-- Server version: 10.4.28-MariaDB
-- PHP Version: 8.1.17

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `blog`
--

-- --------------------------------------------------------

--
-- Table structure for table `comment`
--

CREATE TABLE `comment` (
  `id` bigint(20) NOT NULL,
  `content` varchar(255) DEFAULT NULL,
  `create_datetime` datetime DEFAULT NULL,
  `parent_comment_id` bigint(20) DEFAULT NULL,
  `post_id` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `status` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `post`
--

CREATE TABLE `post` (
  `id` int(11) NOT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `title` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `category` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `brief_content` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `content` text DEFAULT NULL,
  `image` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `status` int(11) DEFAULT NULL,
  `popular` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `post`
--

INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(1, 1, 'Năm đầu tiên - 2019', 'Travel', 'Năm đầu tiên - 2019', '<p>Được dẫn đi chơi ở trung tâm thành phố - Lima central, cảm thấy sao mà đường phố sạch\n                                                thế, không có rác\n                                                luôn. Sau đó là lần đầu tiên uống Pisco sour, nói chung\n                                                là mình không hợp khẩu vị với pisco, nhưng cũng là một món nên thử</p>\n                \n                                            <div class=\"row\">\n                                                <div class=\"col-6\">\n                                                    <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/street.jpg\" alt=\"\"\n                                                         class=\"img-fluid\"/>\n                                                </div>\n                                                <div class=\"col-6\">\n                                                    <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/pisco_sour.jpg\" alt=\"\"\n                                                         class=\"img-fluid\"/>\n                                                </div>\n                                            </div>\n                \n                \n                                            <p><br>Phía ngoài nhà thờ ở Lima central</p>\n                \n                \n                                            <p>\n                                                <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/temple_lima_centero.jpg\"\n                                                     alt=\"\"\n                                                     class=\"img-fluid\"/>\n                                            </p>\n                                            <p>Bên trong là nhà thờ rất hoành tráng</p>\n                                            <p>\n                                                <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/temple_inside.jpg\" alt=\"\"\n                                                     class=\"img-fluid\"/>\n                                            </p>\n                                            <p>Thành phố Lima về đêm</p>\n                                            <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/lima_at_night.jpg\" alt=\"\"\n                                                 class=\"img-fluid\"/>\n                                            <h2 class=\"mb-3 mt-5\">#Lần đầu rời khỏi Lima</h2>\n                                            <p>Nằm cách thành phố biển Ica 4 km là ốc đảo Huacachina. Theo truyền thuyết cổ, Huacay\n                                                China, một cô gái xinh đẹp trong vùng, đang\n                                                tắm tiên dưới hồ nước thì bị một chàng thợ săn trẻ phát hiện. Nàng Huacay bỏ chạy khi\n                                                thấy bóng người lạ trong tấm gương soi. Gương vỡ tan biến thành đầm phá, vạt áo dài bung\n                                                bay, rớt lại phía sau hóa những đụn cát khổng lồ bao quanh. Cô gái liền lặn xuống nước\n                                                sâu để trốn người lạ mặt.</p>\n                                            <p>\n                                                <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/huacachina.jpg\" alt=\"\"\n                                                     class=\"img-fluid\"/>\n                                                <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/trip.jpg\" alt=\"\"\n                                                     class=\"img-fluid\"/>\n                                            </p>\n                                            <p><br>Hallowen đi chơi ở công viên mèo, rồi giáng sinh. Lần đầu tiên chơi Secret Santa (mọi\n                                                người được bốc thăm để tặng những món quà cho nhau vào dịp giáng sinh mà không được để\n                                                người được tặng biết là ai)</p>\n                                            <div class=\"row\">\n                                                <div class=\"col-6\">\n                                                    <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/hallowen.jpg\" alt=\"\"\n                                                         class=\"img-fluid\"/>\n                                                </div>\n                                                <div class=\"col-6\">\n                                                    <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/secet-santa.jpg\" alt=\"\"\n                                                         class=\"img-fluid\"/>\n                                                </div>\n                                            </div>\n                                            <p>\n                                                <br>\n                                                Sang nhà 1 người bạn trong công ty vào dịp giáng sinh\n                                            </p>\n                \n                                            <img src=\"https://d1vego9xkjklqd.cloudfront.net/image/2019/small-party.jpg\" alt=\"\"\n                                                 class=\"img-fluid\"/>', 'images/image_1.jpg', '2024-02-21 23:57:21', 0, NULL),
(2, 1, 'Năm đầu tiên - 2019\r\n', 'Travel', 'Năm đầu tiên - 2019', '<p>Được dẫn đi chơi ở trung tâm thành phố - Lima central, cảm thấy sao mà đường phố sạch\r\n                                                thế, không có rác\r\n                                                luôn. Sau đó là lần đầu tiên uống Pisco sour, nói chung\r\n                                                là mình không hợp khẩu vị với pisco, nhưng cũng là một món nên thử</p>\r\n                \r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-6\">\r\n                                                    <img src=\"/images/2019/street.jpg\" alt=\"\"\r\n                                                         class=\"img-fluid\"/>\r\n                                                </div>\r\n                                                <div class=\"col-6\">\r\n                                                    <img src=\"/images/2019/pisco_sour.jpg\" alt=\"\"\r\n                                                         class=\"img-fluid\"/>\r\n                                                </div>\r\n                                            </div>\r\n                \r\n                \r\n                                            <p><br>Phía ngoài nhà thờ ở Lima central</p>\r\n                \r\n                \r\n                                            <p>\r\n                                                <img src=\"/images/2019/temple_lima_centero.jpg\"\r\n                                                     alt=\"\"\r\n                                                     class=\"img-fluid\"/>\r\n                                            </p>\r\n                                            <p>Bên trong là nhà thờ rất hoành tráng</p>\r\n                                            <p>\r\n                                                <img src=\"/images/2019/temple_inside.jpg\" alt=\"\"\r\n                                                     class=\"img-fluid\"/>\r\n                                            </p>\r\n                                            <p>Thành phố Lima về đêm</p>\r\n                                            <img src=\"/images/2019/lima_at_night.jpg\" alt=\"\"\r\n                                                 class=\"img-fluid\"/>\r\n                                            <h2 class=\"mb-3 mt-5\">#Lần đầu rời khỏi Lima</h2>\r\n                                            <p>Nằm cách thành phố biển Ica 4 km là ốc đảo Huacachina. Theo truyền thuyết cổ, Huacay\r\n                                                China, một cô gái xinh đẹp trong vùng, đang\r\n                                                tắm tiên dưới hồ nước thì bị một chàng thợ săn trẻ phát hiện. Nàng Huacay bỏ chạy khi\r\n                                                thấy bóng người lạ trong tấm gương soi. Gương vỡ tan biến thành đầm phá, vạt áo dài bung\r\n                                                bay, rớt lại phía sau hóa những đụn cát khổng lồ bao quanh. Cô gái liền lặn xuống nước\r\n                                                sâu để trốn người lạ mặt.</p>\r\n                                            <p>\r\n                                                <img src=\"/images/2019/huacachina.jpg\" alt=\"\"\r\n                                                     class=\"img-fluid\"/>\r\n                                                <img src=\"/images/2019/trip.jpg\" alt=\"\"\r\n                                                     class=\"img-fluid\"/>\r\n                                            </p>\r\n                                            <p><br>Hallowen đi chơi ở công viên mèo, rồi giáng sinh. Lần đầu tiên chơi Secret Santa (mọi\r\n                                                người được bốc thăm để tặng những món quà cho nhau vào dịp giáng sinh mà không được để\r\n                                                người được tặng biết là ai)</p>\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-6\">\r\n                                                    <img src=\"/images/2019/hallowen.jpg\" alt=\"\"\r\n                                                         class=\"img-fluid\"/>\r\n                                                </div>\r\n                                                <div class=\"col-6\">\r\n                                                    <img src=\"/images/2019/secet-santa.jpg\" alt=\"\"\r\n                                                         class=\"img-fluid\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p>\r\n                                                <br>\r\n                                                Sang nhà 1 người bạn trong công ty vào dịp giáng sinh\r\n                                            </p>\r\n                \r\n                                            <img src=\"/images/2019/small-party.jpg\" alt=\"\"\r\n                                                 class=\"img-fluid\"/>', 'images/image_1.jpg', '2024-02-24 23:43:05', 1, 1),
(3, 1, 'Năm thứ 2 - 2020', 'Travel', 'Năm thứ 2 - 2020', '<p>Đã dần quen với cuộc sống mới, cuối tuần mọi người thường hay tổ chức những buổi chia tay, chào đón đồng nghiệp mới, hay chúc mừng sinh nhật</p>\n			\n							<p>\n                                <img src=\"/images/2020/tiec.jpg\" alt=\"\" class=\"img-fluid\"/>\n                            </p>\n							\n							<p>Thi thoảng ăn ngoài cũng là 1 options, ở Peru cúng có 1 quán chuyên bán đồ ăn Việt Nam, hương vị thì không giống lắm nhưng ăn cũng đc, chỉ đều quán làm hơi lâu</p>\n							<p>\n                                <img src=\"/images/2020/quan_viet.jpg\" alt=\"\" class=\"img-fluid\"/>\n                            </p>\n							\n							<h2 class=\"mb-3 mt-5\">#Đại dịch xảy ra</h2>\n							\n							<p>Đang vui vẻ tì bỗng nhiên covid ập đến, cuộc sống bị xáo trộn nhưng cũng khá là vui</p>\n							\n							 <div class=\"row\">\n                                <div class=\"col-6\">\n                                   <img src=\"/images/2020/covid.jpg\" alt=\"\" class=\"img-fluid\"/>\n                                </div>\n                                <div class=\"col-6\">\n                                    <img src=\"/images/2020/xep_hang.jpg\" alt=\"\" class=\"img-fluid\"/>\n                                </div>\n								\n                            </div>\n							<p><br>Địa điểm làm việc đổi liên tục từ phòng gym đến phòng ngủ</p>\n						\n							<p>\n								<img src=\"/images/2020/phong_lam_viec_da_chien.jpg\" alt=\"\" class=\"img-fluid\"/>\n							</p>\n							<p><br></p>\n							<p>\n								<img src=\"/images/2020/phong_ngu.jpg\" alt=\"\" class=\"img-fluid\"/>\n							</p>\n							\n							 \n							<p><br>Thậm chí là cạo đầu, hay xem rap việt chung</p>\n							\n							 <div class=\"row\">\n								<div class=\"col-6\">\n									<img src=\"/images/2020/cao_dau.jpg\" alt=\"\" class=\"img-fluid\"/>\n								</div>\n								<div class=\"col-6\">\n                                    <img src=\"/images/2020/rap_viet.jpg\" alt=\"\" class=\"img-fluid\"/>\n                                </div>\n							 </div>\n						\n							\n							<p><br>Đến cuối năm thì có vẻ dễ thở hơn, mọi người dược ra ngoài đi chơi, đi cưỡi ngựa, hallowen lần 2, uống bia ...</p>						\n							\n							<p>Lần đầu tiên đi party ở nhà bạn, cảm nhận sự khác biệt về văn hóa châu Âu và châu Á, khá là sốc nhưng cũng khá là vui. Party ở đây\n							thì sẽ chủ yếu liên quan đến uống và nhảy, việc uống và nhảy diễn ra trong cả đêm đến sáng, nếu biết trước thì ở VN đã đi học nhảy =))))</p>\n							<p>\n                                <img src=\"images/2020/hallowen.jpg\" alt=\"\" class=\"img-fluid\"/>\n                            </p>\n\n                            <p>Vậy là năm thứ 2 đã dần kết thúc, không được đi chơi nhiều, khoảng thời gian này trôi qua khá nhanh và yên bình, có lẽ dự đoán năm tiếp theo sẽ có nhiều sóng gió hơn</p>\n							<div class=\"row\">\n								<div class=\"col-6\">\n									<img src=\"/images/2020/cuoi_ngua.jpg\" alt=\"\" class=\"img-fluid\"/>\n								</div>\n								<div class=\"col-6\">\n                                    <img src=\"/images/2020/goc_pho.jpg\" alt=\"\" class=\"img-fluid\"/>\n                                </div>								\n							 </div>', 'images/image_2.jpg', '2024-02-25 01:42:39', 1, NULL),
(4, 1, 'Năm thứ 3 - 2021', 'Travel', 'Năm thứ 3 - 2021', '<p>Đầu năm thì đi chơi cái đã, trong ảnh là 1 địa điểm vui chơi ở Jockey Plaza đại khái là giống nhà phao ở Việt Nam, hôm đấy trời khá nóng, nhưng bù lại đi chơi khá vui</p>\n			\n<p>\n	<img src=\"/images/2021/1_nhung_nguoi_ban.jpg\" alt=\"\" class=\"img-fluid\"/>\n</p>\n\n<p>Lại thêm 1 đợt bánh chưng nữa, tạo dáng chụp ảnh vậy thôi chứ mình cũng chẳng nấu mấy =)))</p>\n<p>\n	<img src=\"/images/2021/2_nam_2_an tet.jpg\" alt=\"\" class=\"img-fluid\"/>\n</p>\n\n<h2 class=\"mb-3 mt-5\">#Đi chơi xa</h2>\n\n<p>Giờ cũng không thể nhớ được là thành phố nào nữa</p>\n\n<div class=\"row\">\n	<div class=\"col-6\">\n	   <img src=\"/images/2021/5_di_choi_xa.jpg\" alt=\"\" class=\"img-fluid\"/>\n	</div>\n	<div class=\"col-6\">\n		<img src=\"/images/2021/4_di_choi_xa.jpg\" alt=\"\" class=\"img-fluid\"/>\n	</div>\n	\n</div>\n<p><br>Món quà sinh nhật nhiều ý nghĩa của anh zai trong công ty tặng. \nMặt vợt bóng bàn gai để thủ, chuyên trị những ông đánh bóng xoáy. Mình cũng may mắn thắng được 1 giải bóng bàn do công ty tổ chức (mình tạ là chính nhưng vô địch là ok rồi)</p>\n\n<p>\n	<img src=\"/images/2021/6_qua_sn.jpg\" alt=\"\" class=\"img-fluid\"/>\n</p>\n<p><br></p>\n<p><br>Đi ăn ở nhà hàng Trung Quốc, đồ ăn khá đa dạng nhưng có lẽ hơi nhiều dầu mỡ so với Việt Nam. Nhưng các nhà hàng Trung Quốc đã làm phong phú thêm nền ầm thực ở Lima rất nhiều =))</p>\n<p>\n	<img src=\"/images/2021/7_di_an.jpg\" alt=\"\" class=\"img-fluid\"/>\n</p>\n\n \n<p><br>Qua nhà đồng nghiệp</p>\n\n <div class=\"row\">\n	<div class=\"col-6\">\n		<img src=\"/images/2021/8_di_cau.jpg\" alt=\"\" class=\"img-fluid\"/>\n	</div>\n	<div class=\"col-6\">\n		<img src=\"/images/2021/9_qua_nha_ban.jpg\" alt=\"\" class=\"img-fluid\"/>\n	</div>\n </div>\n\n<h2 class=\"mb-3 mt-5\">#Mùa cưới</h2>\n<p><br>Mùa cưới đã đến, đợt này làm phát 6 cái đám cưới</p>						\n\n\n<p>\n	<img src=\"/images/2021/11_di_an_cuoi.jpg\" alt=\"\" class=\"img-fluid\"/>\n</p>\n\n<h2 class=\"mb-3 mt-5\">#Hết</h2>\n<p>Và cuối năm lại đến, giáng sinh, year-end party, và những cuộc gặp gỡ mới =)))</p>\n<div class=\"row\">\n	<div class=\"col-6\">\n		<img src=\"/images/2021/13_chrismat.jpg\" alt=\"\" class=\"img-fluid\"/>\n	</div>\n	<div class=\"col-6\">\n		<img src=\"/images/2021/14_year_end.jpg\" alt=\"\" class=\"img-fluid\"/>\n	</div>								\n </div>', 'images/image_3.jpg', '2024-06-01 20:10:07', 1, NULL);
INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(5, 1, 'Năm cuối', 'Travel', 'Năm cuối', '<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/><title>Docker</title><style>\n/* cspell:disable-file */\n/* webkit printing magic: print all background colors */\nhtml {\n	-webkit-print-color-adjust: exact;\n}\n* {\n	box-sizing: border-box;\n	-webkit-print-color-adjust: exact;\n}\n\nhtml,\nbody {\n	margin: 0;\n	padding: 0;\n}\n@media only screen {\n	body {\n		margin: 2em auto;\n		max-width: 900px;\n		color: rgb(55, 53, 47);\n	}\n}\n\nbody {\n	line-height: 1.5;\n	white-space: pre-wrap;\n}\n\na,\na.visited {\n	color: inherit;\n	text-decoration: underline;\n}\n\n.pdf-relative-link-path {\n	font-size: 80%;\n	color: #444;\n}\n\nh1,\nh2,\nh3 {\n	letter-spacing: -0.01em;\n	line-height: 1.2;\n	font-weight: 600;\n	margin-bottom: 0;\n}\n\n.page-title {\n	font-size: 2.5rem;\n	font-weight: 700;\n	margin-top: 0;\n	margin-bottom: 0.75em;\n}\n\nh1 {\n	font-size: 1.875rem;\n	margin-top: 1.875rem;\n}\n\nh2 {\n	font-size: 1.5rem;\n	margin-top: 1.5rem;\n}\n\nh3 {\n	font-size: 1.25rem;\n	margin-top: 1.25rem;\n}\n\n.source {\n	border: 1px solid #ddd;\n	border-radius: 3px;\n	padding: 1.5em;\n	word-break: break-all;\n}\n\n.callout {\n	border-radius: 3px;\n	padding: 1rem;\n}\n\nfigure {\n	margin: 1.25em 0;\n	page-break-inside: avoid;\n}\n\nfigcaption {\n	opacity: 0.5;\n	font-size: 85%;\n	margin-top: 0.5em;\n}\n\nmark {\n	background-color: transparent;\n}\n\n.indented {\n	padding-left: 1.5em;\n}\n\nhr {\n	background: transparent;\n	display: block;\n	width: 100%;\n	height: 1px;\n	visibility: visible;\n	border: none;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.09);\n}\n\nimg {\n	max-width: 100%;\n}\n\n@media only print {\n	img {\n		max-height: 100vh;\n		object-fit: contain;\n	}\n}\n\n@page {\n	margin: 1in;\n}\n\n.collection-content {\n	font-size: 0.875rem;\n}\n\n.column-list {\n	display: flex;\n	justify-content: space-between;\n}\n\n.column {\n	padding: 0 1em;\n}\n\n.column:first-child {\n	padding-left: 0;\n}\n\n.column:last-child {\n	padding-right: 0;\n}\n\n.table_of_contents-item {\n	display: block;\n	font-size: 0.875rem;\n	line-height: 1.3;\n	padding: 0.125rem;\n}\n\n.table_of_contents-indent-1 {\n	margin-left: 1.5rem;\n}\n\n.table_of_contents-indent-2 {\n	margin-left: 3rem;\n}\n\n.table_of_contents-indent-3 {\n	margin-left: 4.5rem;\n}\n\n.table_of_contents-link {\n	text-decoration: none;\n	opacity: 0.7;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.18);\n}\n\ntable,\nth,\ntd {\n	border: 1px solid rgba(55, 53, 47, 0.09);\n	border-collapse: collapse;\n}\n\ntable {\n	border-left: none;\n	border-right: none;\n}\n\nth,\ntd {\n	font-weight: normal;\n	padding: 0.25em 0.5em;\n	line-height: 1.5;\n	min-height: 1.5em;\n	text-align: left;\n}\n\nth {\n	color: rgba(55, 53, 47, 0.6);\n}\n\nol,\nul {\n	margin: 0;\n	margin-block-start: 0.6em;\n	margin-block-end: 0.6em;\n}\n\nli > ol:first-child,\nli > ul:first-child {\n	margin-block-start: 0.6em;\n}\n\nul > li {\n	list-style: disc;\n}\n\nul.to-do-list {\n	padding-inline-start: 0;\n}\n\nul.to-do-list > li {\n	list-style: none;\n}\n\n.to-do-children-checked {\n	text-decoration: line-through;\n	opacity: 0.375;\n}\n\nul.toggle > li {\n	list-style: none;\n}\n\nul {\n	padding-inline-start: 1.7em;\n}\n\nul > li {\n	padding-left: 0.1em;\n}\n\nol {\n	padding-inline-start: 1.6em;\n}\n\nol > li {\n	padding-left: 0.2em;\n}\n\n.mono ol {\n	padding-inline-start: 2em;\n}\n\n.mono ol > li {\n	text-indent: -0.4em;\n}\n\n.toggle {\n	padding-inline-start: 0em;\n	list-style-type: none;\n}\n\n/* Indent toggle children */\n.toggle > li > details {\n	padding-left: 1.7em;\n}\n\n.toggle > li > details > summary {\n	margin-left: -1.1em;\n}\n\n.selected-value {\n	display: inline-block;\n	padding: 0 0.5em;\n	background: rgba(206, 205, 202, 0.5);\n	border-radius: 3px;\n	margin-right: 0.5em;\n	margin-top: 0.3em;\n	margin-bottom: 0.3em;\n	white-space: nowrap;\n}\n\n.collection-title {\n	display: inline-block;\n	margin-right: 1em;\n}\n\n.page-description {\n    margin-bottom: 2em;\n}\n\n.simple-table {\n	margin-top: 1em;\n	font-size: 0.875rem;\n	empty-cells: show;\n}\n.simple-table td {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table th {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table-header-color {\n	background: rgb(247, 246, 243);\n	color: black;\n}\n.simple-table-header {\n	font-weight: 500;\n}\n\ntime {\n	opacity: 0.5;\n}\n\n.icon {\n	display: inline-block;\n	max-width: 1.2em;\n	max-height: 1.2em;\n	text-decoration: none;\n	vertical-align: text-bottom;\n	margin-right: 0.5em;\n}\n\nimg.icon {\n	border-radius: 3px;\n}\n\n.user-icon {\n	width: 1.5em;\n	height: 1.5em;\n	border-radius: 100%;\n	margin-right: 0.5rem;\n}\n\n.user-icon-inner {\n	font-size: 0.8em;\n}\n\n.text-icon {\n	border: 1px solid #000;\n	text-align: center;\n}\n\n.page-cover-image {\n	display: block;\n	object-fit: cover;\n	width: 100%;\n	max-height: 30vh;\n}\n\n.page-header-icon {\n	font-size: 3rem;\n	margin-bottom: 1rem;\n}\n\n.page-header-icon-with-cover {\n	margin-top: -0.72em;\n	margin-left: 0.07em;\n}\n\n.page-header-icon img {\n	border-radius: 3px;\n}\n\n.link-to-page {\n	margin: 1em 0;\n	padding: 0;\n	border: none;\n	font-weight: 500;\n}\n\np > .user {\n	opacity: 0.5;\n}\n\ntd > .user,\ntd > time {\n	white-space: nowrap;\n}\n\ninput[type=\"checkbox\"] {\n	transform: scale(1.5);\n	margin-right: 0.6em;\n	vertical-align: middle;\n}\n\np {\n	margin-top: 0.5em;\n	margin-bottom: 0.5em;\n}\n\n.image {\n	border: none;\n	margin: 1.5em 0;\n	padding: 0;\n	border-radius: 0;\n	text-align: center;\n}\n\n.code,\ncode {\n	background: rgba(135, 131, 120, 0.15);\n	border-radius: 3px;\n	padding: 0.2em 0.4em;\n	border-radius: 3px;\n	font-size: 85%;\n	tab-size: 2;\n}\n\ncode {\n	color: #eb5757;\n}\n\n.code {\n	padding: 1.5em 1em;\n}\n\n.code-wrap {\n	white-space: pre-wrap;\n	word-break: break-all;\n}\n\n.code > code {\n	background: none;\n	padding: 0;\n	font-size: 100%;\n	color: inherit;\n}\n\nblockquote {\n	font-size: 1.25em;\n	margin: 1em 0;\n	padding-left: 1em;\n	border-left: 3px solid rgb(55, 53, 47);\n}\n\n.bookmark {\n	text-decoration: none;\n	max-height: 8em;\n	padding: 0;\n	display: flex;\n	width: 100%;\n	align-items: stretch;\n}\n\n.bookmark-title {\n	font-size: 0.85em;\n	overflow: hidden;\n	text-overflow: ellipsis;\n	height: 1.75em;\n	white-space: nowrap;\n}\n\n.bookmark-text {\n	display: flex;\n	flex-direction: column;\n}\n\n.bookmark-info {\n	flex: 4 1 180px;\n	padding: 12px 14px 14px;\n	display: flex;\n	flex-direction: column;\n	justify-content: space-between;\n}\n\n.bookmark-image {\n	width: 33%;\n	flex: 1 1 180px;\n	display: block;\n	position: relative;\n	object-fit: cover;\n	border-radius: 1px;\n}\n\n.bookmark-description {\n	color: rgba(55, 53, 47, 0.6);\n	font-size: 0.75em;\n	overflow: hidden;\n	max-height: 4.5em;\n	word-break: break-word;\n}\n\n.bookmark-href {\n	font-size: 0.75em;\n	margin-top: 0.25em;\n}\n\n.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"; }\n.code { font-family: \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace; }\n.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }\n.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }\n.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK JP\'; }\n.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK SC\'; }\n.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK TC\'; }\n.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK KR\'; }\n.pdf .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK JP\'; }\n.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK SC\'; }\n.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK TC\'; }\n.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK KR\'; }\n.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.highlight-default {\n	color: rgba(55, 53, 47, 1);\n}\n.highlight-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.highlight-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.highlight-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.highlight-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.highlight-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.highlight-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.highlight-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.highlight-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.highlight-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.highlight-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.highlight-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.highlight-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.highlight-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.highlight-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.highlight-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.highlight-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.highlight-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.highlight-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.block-color-default {\n	color: inherit;\n	fill: inherit;\n}\n.block-color-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.block-color-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.block-color-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.block-color-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.block-color-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.block-color-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.block-color-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.block-color-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.block-color-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.block-color-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.block-color-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.block-color-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.block-color-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.block-color-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.block-color-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.block-color-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.block-color-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.block-color-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }\n.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }\n.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }\n.select-value-color-green { background-color: rgba(219, 237, 219, 1); }\n.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }\n.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }\n.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }\n.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }\n.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }\n.select-value-color-red { background-color: rgba(255, 226, 221, 1); }\n.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }\n.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }\n.select-value-color-pageGlass { background-color: undefined; }\n.select-value-color-washGlass { background-color: undefined; }\n\n.checkbox {\n	display: inline-flex;\n	vertical-align: text-bottom;\n	width: 16;\n	height: 16;\n	background-size: 16px;\n	margin-left: 2px;\n	margin-right: 5px;\n}\n\n.checkbox-on {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n\n.checkbox-off {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n	\n</style></head><body><article id=\"77d11985-bd5f-4e40-849b-c8830124aa19\" class=\"page sans\"><header><div class=\"page-header-icon undefined\"><span class=\"icon\">🐋</span></div><h1 class=\"page-title\">Docker</h1><p class=\"page-description\"></p></header><div class=\"page-body\"><figure class=\"block-color-gray_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"5c213909-ae0a-4608-a568-63cebb73a75e\"><div style=\"font-size:1.5em\"><span class=\"icon\">💡</span></div><div style=\"width:100%\">Docker là một nền tảng hỗ trợ chạy các ứng dụng trên các container. Được viết ban đầu bằng Python sau đó chuyển sang Golang</div></figure><h2 id=\"5c132c2a-1ec9-421f-b7d5-c7fd50e17e9a\" class=\"\">Tutorial</h2><ul id=\"bfcae7e2-fa51-41b2-9e32-9f89656fb7ad\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cách câu lệnh của docker<ul id=\"be16fe90-144c-42d7-b0dd-9efb99d3a7e4\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker run nginx</strong> ( để start container, nếu không có thì sẽ pull image ở docker hub về, chạy 1 lần, lần sau thì dùng image)</li></ul><ul id=\"9149adf4-3338-425a-b5a1-0fb3a7a4f542\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker ps</strong> ( để liệt kê các container container đang chạy, -a để liệt kê cả các container ko đang chạy) </li></ul><ul id=\"958bee8d-5edb-435d-ad4e-78c358dc4ae8\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker stop [container_id] </strong>(để stop container)</li></ul><ul id=\"80a4351e-2290-49f6-93fc-07ec62a59104\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker rm</strong> [<strong>container_id] </strong>(để remove container)</li></ul><ul id=\"16fa0501-d9cc-42bf-9067-84cf2197741e\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker images</strong> ( hiển thị list các images )</li></ul><ul id=\"fb7fe3e6-fbda-4ed3-b0b6-caedc31c3c87\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker rmi [tên image]</strong> ( để xóa image thì phải xóa các container liên quan trước, bằng lệnh <strong>docker rm</strong> ở trên )</li></ul><ul id=\"aa19f3b3-25ff-41f1-910e-822cfe96e466\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>docker pull nginx </strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>( để kéo image về chứ ko chạy, lệnh run là vừa kéo về vừa chạy )</li></ul><ul id=\"3f83ad2c-7edd-4508-9483-1baa0d9168e1\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker run -it node</strong> ( để chạy node container và có thể exe cmd ở trong) </li></ul><ul id=\"bc1a32a0-7bb7-4b60-bb06-7583da73cf3b\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker exec -it [tên container] npm init </strong>(để chạy cmd bên trong node ở chế độ interactive)</li></ul></li></ul><ul id=\"e52c6534-73d4-42d6-92c9-f2768e9f6e0f\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker run với volumn <ul id=\"0a3c0d7d-e85a-4e6b-8116-37c7758c8747\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">docker run -v /otp/datadir:/var/lib/mysql mysql <p id=\"da435215-f164-49ce-880b-9d712c09b582\" class=\"\">⇒ /otp/datadir: là phải có sẵn ở máy local, nếu ko có thì phải tạo trước</p></li></ul></li></ul><ul id=\"d0c76e87-928b-4c1f-9ef3-e346e8126e30\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để build image từ Dockerfile (image có thể đẩy lên docker hub để người khác sử dụng)<ul id=\"234b3e9e-b2c6-4631-a77b-9af82b2a6c42\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">docker build .</li></ul></li></ul><ul id=\"94a9ca1a-8ab3-4e97-9da9-ab41f8805254\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Environment variable:<ul id=\"69148d2d-410b-4cd5-a6ef-b53ec7b337b9\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Để chạy docker với enviroment: -e</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"9ab69f43-a43b-4e1d-9823-f74649c9ac91\" class=\"code\"><code class=\"language-JavaScript\">docker run --name some-sql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=admin -d mysql</code></pre><ul id=\"5e53b66b-7864-4d7c-b57b-2fe26903000a\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Để xem các tham số các enviroment: docker inspect [tên_image]</li></ul></li></ul><ul id=\"1025cce1-f53e-4650-881c-13c1eccdbc1c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Command và entry point:<ul id=\"f26ac05a-6766-4939-84c8-baf9eec1edcd\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Command là chạy luôn</li></ul><ul id=\"72ad9653-b9ce-4f9e-95d3-209b1089934e\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Entry point là nhập tham số vào để chạy<ul id=\"47bb4d84-b23a-4043-9639-3ede30cdb0ab\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Ví dụ ENTRYPOINT [ ”npm” ] nằm ở trong Dockerfile</li></ul><ul id=\"19ff6163-3b91-43f8-81c8-64b352ac2c28\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Khi start container thì chỉ cần nhập giá trị ở sau npm (ví dụ: install, init …)</li></ul></li></ul><ul id=\"0b52a6b6-d6b3-4c74-b841-991953a6d589\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Có thể kết hợp entry point và command để tạo tham số mặc định cho entry point </li></ul></li></ul><ul id=\"39b94b2d-0fc0-4a96-b05d-ea2543aa12f9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker registry: để tạo và up vào registry local<script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"a092ac22-1199-40ed-bff6-ec0956f1e65c\" class=\"code\"><code class=\"language-JavaScript\">docker pull nginx:latest\ndocker image tag nginx:latest localhost:5000/nginx:latest\ndocker push localhost:5000/nginx:latest</code></pre></li></ul><ul id=\"d8ccc3dc-6b50-454a-91da-fdfeb888e8ab\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker PID<ul id=\"94325a00-0d56-42aa-a8d1-844460da16bc\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Khi mà khởi chạy 1 container thì sẽ tạo ra 1 tiến trình ở trong container, tiến trình này ánh xạ với 1 tiến trình ở bên ngoài host (PID ở trong container và ở host giá trị khác nhau)</li></ul><ul id=\"eaafb3db-3bbe-4b34-953d-1f35e45b050a\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Để chạy lệnh ở bên trong container:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"d1303396-9e8a-4382-b09a-7565c30d1740\" class=\"code\"><code class=\"language-JavaScript\">docker exec [container_id] ps -eaf</code></pre></li></ul><h2 id=\"0089c8b5-9f71-483b-9a67-2462cf2d9bc7\" class=\"\">Docker storage</h2><ul id=\"c98d837a-4fac-423c-a39b-aa5485cfccc8\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các loại volume:<ul id=\"470cc503-2fa8-4a8c-94ce-864dbd42a822\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Anonymous Volumes<ul id=\"384144d2-7e51-4e86-a5ca-411214c77639\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Dùng cho 1 single container</li></ul></li></ul><ul id=\"b3051c89-4593-4cff-80cc-7b4e8c21f7b7\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Named Volumes<ul id=\"c2037c64-abf1-44b6-a544-e48c272b3210\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Có thể share giữa các container</li></ul></li></ul><ul id=\"23ddd36c-9878-48ad-918c-6dda621cc038\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bind Mount<ul id=\"1ee37cb2-ed36-4181-b3cc-2326da377dc0\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Nằm ở local machines</li></ul></li></ul></li></ul><ul id=\"c651e6eb-55b8-4e9a-9083-acadfbbdc139\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Mặc định khi cài đặt docker thì lưu trữ ở /var/lib/docker</li></ul><ul id=\"8bea1a52-942f-472c-a2e7-758bb341435d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các layer trong lưu trữ:<ul id=\"0c782f14-4d34-4240-ad46-e1769c6e20b5\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Container layer: có thể edit, và hủy khi container bị hủy</li></ul><ul id=\"1302b3c4-b0dc-4c31-babc-131df977cdfe\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Image layers: chỉ có thể đọc</li></ul></li></ul><ul id=\"7111216b-9ff7-4b26-ab95-4be1b2a099f2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Mount trong docker<ul id=\"6cebc84d-b77b-42a5-8d65-7ddf8917888a\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Volume mount (được quản lý bởi docker): xịn hơn, volume , mount point nằm ở var/lib/docker/volume</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"156a5ae5-b8e2-4055-b0b6-9aa78944c737\" class=\"code\"><code class=\"language-JavaScript\">docker run -dp 3000:80 -v feedback:/app/feedback feedback-node:volumes</code></pre><p id=\"af3de35b-6ba2-4e30-acf9-894d683f3dea\" class=\"\">⇒ Store data ở volumn có tên là feedback, đường dẫn /app/feedback. Nếu mà xóa container đi rồi khởi tạo lại với <em>-v feedback:/app/feedback </em>thì dữ liệu vẫn còn.</p><p id=\"7409d2b1-7743-49be-a0f1-95eaf43b054b\" class=\"\">\n</p><ul id=\"23fab0b5-28cc-4f60-993b-2ad96b2fce14\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bind mount (do mình quản lý) điểm mount có thể là bất cứ ở đâu.<ul id=\"d41253fe-68e8-41bf-8e60-6bce9667fad7\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Define a path ở trên local</li></ul><ul id=\"6e0f80b7-3a8f-4624-a0a0-5f545f85d2d2\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Hỗ trợ tốt cho các data có thể edit được, như các file trong html, js</li></ul></li></ul></li></ul><p id=\"526b5cca-acac-4ea1-8513-53790ba86d80\" class=\"\"><div class=\"indented\"><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"02dcf422-1f32-45f1-ad7f-532585f69d00\" class=\"code\"><code class=\"language-Dhall\" style=\"white-space:pre-wrap;word-break:break-all\">	docker run -dp 3000:80 -v feedback:/app/feedback -v &quot;&lt;duong_dan_local&gt;:/app&quot; -v /app/node_modules feedback-node:volumes</code></pre><p id=\"1bb74d45-3a33-47a4-89c2-53ae08fe3a60\" class=\"\">⇒ volumn feedback được quản ly bởi docker, ko xóa khi xóa container</p><p id=\"9beb7b3a-f240-42bf-a999-25fd16b4953e\" class=\"\">⇒ /app được mount từ local</p><p id=\"1024a37b-80a5-4794-abb5-d69e01ea305a\" class=\"\">⇒ /app/node_modules đc quản lý bởi anonymous volumn, nên sẽ ko bị local overwrite</p></div></p><h2 id=\"0195e7e1-5e39-4020-8f64-f4a220d9e2c3\" class=\"\">Docker network:</h2><ul id=\"9fbb2006-a037-4a1a-83bc-8b5c0a87db61\" class=\"bulleted-list\"><li style=\"list-style-type:disc\"><strong>docker create network &lt;network_name&gt; </strong>(tạo network)</li></ul><ul id=\"167a1f85-0dcb-4b76-bdab-d67caadf0565\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">docker có thể lấy tên của container để làm domain</li></ul><ul id=\"b7453de2-7017-4270-a835-d509d838bfdd\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các loại network:<ul id=\"67ebf0bc-181b-47ef-8e56-48bfa7130d07\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bridge network: mặc định</li></ul><ul id=\"3ddc1e11-0a56-4c8d-81c7-2fda5f4ef500\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">None: là ko có network, ko kết nối vào và ra đc</li></ul><ul id=\"6e4efa12-7199-44cb-ab93-429a9b9d8775\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Host: là network do mình tạo ra</li></ul></li></ul><ul id=\"9fa6f569-6033-424e-8840-4ef7f1270509\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Trong docker có DNS server để xử lý network</li></ul><ul id=\"b018e1cd-ec17-43d6-bc82-18676fe05a72\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Container orchestation: để quản lý các container trong docker<ul id=\"18b254aa-698e-4d27-badb-cbaaad363183\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Có 2 loại hay dùng: Docker swarm hoặc kubernetes</li></ul></li></ul><ul id=\"4342ab2b-db65-453e-8511-82ba4e90d1b9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để kết nối từ container vào máy local thì có thể dùng url:<ul id=\"785a3db2-d495-43be-a1e7-86d3cbc69263\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">host.docker.internal</li></ul></li></ul><p id=\"a0bd52bd-7363-4ed0-8b9e-c15697943cb0\" class=\"\">\n</p><h2 id=\"b23cef3b-4824-4d89-a59c-c71f3011004b\" class=\"\">Docker utility:</h2><h2 id=\"41ec7d39-92b5-4b2f-9b0b-103b93c293f1\" class=\"\">Something more</h2><ul id=\"fabf9f6f-7485-42e0-aafe-64ae5033f79c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Ta có thể copy file vào container đang chạy, hoặc copy file từ trong container đang chạy ra local bằng câu lệnh:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"a11c84c2-868d-48a5-bb6b-a52ed7d35bb5\" class=\"code\"><code class=\"language-JavaScript\" style=\"white-space:pre-wrap;word-break:break-all\">docker cp &lt;source&gt; &lt;destination&gt; (docker cp dummy/. boring_vaughan)\n\n=&gt; Copy tất cả các file ở trong folder dummy vào container boring_vaughan</code></pre><h2 id=\"3434ff19-668e-4ee4-bd47-cd14c5ce4aa2\" class=\"\">Docker compose</h2><ul id=\"89f7d103-d91a-425b-b69e-faf196a950a5\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker compose ko thay thế Dockerfile, nó làm việc cùng Dockerfile</li></ul><ul id=\"2df3e97f-87f5-4d69-ab60-7116e2913c7d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker compose để quản lý nhiều container cùng 1 host, ko dùng để quản lý nhiều container ở nhiều host khác nhau</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"56261310-0e5f-4b08-9040-ca4a84ef4c63\" class=\"code\"><code class=\"language-Plain Text\" style=\"white-space:pre-wrap;word-break:break-all\">version: &#x27;3.8&#x27;\n\nservices:\n  mongodb: =&gt; container name\n    image: &#x27;mongo&#x27;\n    container_name: mongodb\n    environment:\n      - MONGO_INITDB_ROOT_USERNAME=max\n      - MONGO_INITDB_ROOT_PASSWORD=secret\n    volumes:\n      - data:/data/db\n    networks:\n      - goals-net\n    restart: unless-stopped\n    \n	backend:\n	  build: ./backend =&gt; Khi goi compose thi se build image moi\n	  port: \n	    - &#x27;80:80&#x27;\n	  volumnes:\n	    - logs:/app/logs  (name volume)\n	    - ./backend:/app =&gt; bind backend o local vao folder app o trong container\n	    - /app/node_modules (anonymous volume)\n    depend_on: \n      - mongodb\n\nnetworks:\n  goals-net:\n    driver: bridge\n\nvolumes:  =&gt; Noi khai bao volumn\n  data:\n  logs:\n    \n  app:\n  \n  frontend:\n    </code></pre><h2 id=\"c406ed34-bc43-47bf-a436-1b8a4f371c0b\" class=\"\">Image layers</h2><ul id=\"51fd9721-5443-4bbc-9f7b-347646b1dde2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Khi thự hiện build image thì mỗi step sẽ tạo thành 1 layer.<figure id=\"a954222c-9177-40fb-b2be-4273cde2de28\" class=\"image\"><a href=\"/images/notion/docker/Untitled.png\"><img style=\"width:886px\" src=\"Docker%2077d11985bd5f4e40849bc8830124aa19/Untitled.png\"/></a></figure></li></ul><ul id=\"102e5472-871a-4312-8a59-0ecfc25be3b7\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Khi thực hiện build lại thì các layer có thể tái sử dụng cache của lần build trước để tăng tốc độ build images</li></ul><h2 id=\"5b149f4f-3214-4384-97ac-f1a26e820a4e\" class=\"\">Deploy docker container</h2><ul id=\"3e475e1f-01aa-4a6f-8a57-aded756c6354\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Bind Mounts in Production<ul id=\"e3ecea5b-6d00-46de-a68f-c0e24938fbe7\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bind Mount chỉ sử dụng để run test local, không để trong Dockerfile</li></ul></li></ul><ul id=\"fd9d251e-c0b1-49b7-9941-50607580131c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Trước khi build thì igore một số file: node_modules, Dockerfile, *.pem (liên quan đến key)</li></ul><ul id=\"291ac208-2609-4e6a-a211-ab78cb4556b0\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Build image, rồi push image lên docker hub</li></ul><p id=\"241a450b-901c-468c-92e7-37b0dfd8a5bc\" class=\"\">\n</p><h3 id=\"69b2ad05-6d61-4f4a-acaf-0a29e3514736\" class=\"\">1. Bắt đầu</h3><ul id=\"8c1c8bc1-617d-4b36-bad2-cc9261fa8219\" class=\"block-color-yellow_background bulleted-list\"><li style=\"list-style-type:disc\">Start docker bằng lệnh: <strong>sudo service docker start</strong></li></ul><ul id=\"b543d6ec-d939-4175-9c4f-91828778c95c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\"><code>docker run -d -p 80:80 docker/getting-started</code><ul id=\"8ef4a3f8-d19f-4a64-8312-10c62d4196ce\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Một số tham số khác<ul id=\"325fbd37-2de7-40a2-baad-05c03ca46388\" class=\"bulleted-list\"><li style=\"list-style-type:square\">-it : chế độ interact, nghĩa là có thể chạy để nhập std.</li></ul></li></ul></li></ul><ul id=\"2d6975b0-b6de-4921-9840-2d2f9f5a45e8\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker container là một môi trường để chạy (như là 1 object)</li></ul><ul id=\"ced7d3ad-9843-4721-aedc-b0f625599aa3\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker image là 1 file cơ sở để xây dựng lên container (như là 1 class). Một container chính là 1 image đang chạy (như là 1 instance).</li></ul><ul id=\"4895a92e-d470-40ba-b2c0-feab333930f9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để start container: <script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"19890d31-f8f6-4ad6-a7a0-2fc43e02c887\" class=\"code\"><code class=\"language-Lua\">docker start mysql8-container</code></pre></li></ul><h3 id=\"60e08023-bda3-436a-b002-ef9175d73975\" class=\"\">2. Sample application</h3><ul id=\"e18e8643-8798-482c-86ba-0b6ad23cbcb4\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Dockerfile là tập tin các chỉ thị, khi gọi sẽ tạo ra image.</li></ul><ul id=\"7727ed60-e828-47d2-858f-7619010a3bd5\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để build docker file:<br/><br/><code>docker build -t getting-started .</code></li></ul><ul id=\"dfedf1fc-b98b-49ce-9a08-8f8d4f3e69fa\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Sau khi build đc image thì sẽ start docker container</li></ul><ul id=\"94047ad4-2726-41d5-8b23-5d1c7c5d766a\" class=\"bulleted-list\"><li style=\"list-style-type:disc\"><code>docker run -dp 3000:3000 getting-started</code></li></ul><h3 id=\"306d2b08-ae7d-45a2-b965-3e9bc8987ec8\" class=\"\">3. Update application</h3><ul id=\"6f2ca9da-0d71-4823-b69d-ed78762fb0fb\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Sửa code</li></ul><ul id=\"6886d4fb-13ce-4d16-bda1-858e9faadaa2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Build lại image mới: <code>docker build -t getting-started .</code></li></ul><ul id=\"e4445d0d-3e44-47ec-ad85-3415396e2833\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Xóa container cũ đi: <code>docker ps; docker rm -f &lt;the-container-id&gt;</code></li></ul><ul id=\"f234ebc9-bb87-4ddf-8e43-93ee61374e09\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Chạy container với image mới: <code>docker run -dp 3000:3000 getting-started</code></li></ul><p id=\"33b091ed-c2b4-4e9d-b480-6ac9430c57d2\" class=\"\">\n</p><h3 id=\"9dbadfe7-a7a9-4841-b667-dac485cc10fd\" class=\"\">4. Dockerfile</h3><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"2bb8ed62-6c40-4ebd-a0bb-56eddce592bd\" class=\"code\"><code class=\"language-JavaScript\">FROM node =&gt;. Dung node\n\nWORKINGDIR /app  =&gt; Cac cmd se run o trong thu muc app\n\nCOPY . /app =&gt; copy tat ca cac file o code vao /app\n\nRUN npm install =&gt; chay cmd \n\nENV PORT 80 =&gt; tao ra env port = 80 trong luc build\n\nEXPOSE $PORT \n\nCMD [&quot;node&quot;, &quot;server.js&quot;]</code></pre><h3 id=\"5a4202e6-c3e8-42d8-b303-e9eda4387814\" class=\"\">X. Dockerize</h3><ul id=\"0aa81c25-254f-4019-913d-f07bb35748db\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Viết docker-compose.yml</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"87e842e5-1649-405b-a865-8f1f6ef7cea4\" class=\"code\"><code class=\"language-Plain Text\" style=\"white-space:pre-wrap;word-break:break-all\">version: &#x27;2&#x27;\n\nservices:\n  db2:\n    image: &#x27;ibmcom/db2&#x27;\n    container_name: mydb2\n    privileged: true\n    ports:\n      - 50000:50000\n    environment:\n      DB2INST1_PASSWORD: 123456\n      LICENSE: accept\n      DBNAME: testdb\n\napp:\n    image: &#x27;springio/gs-spring-boot-docker&#x27;\n    build:\n      context: .\n    container_name: app\n    depends_on:\n      - db2\n    environment:\n      SPRING_APPLICATION_JSON: &#x27;{\n        &quot;spring.datasource.url&quot;:&quot;jdbc:db2://mydb2:50000/testdb&quot;,\n        &quot;spring.datasource.username&quot;:&quot;db2inst1&quot;,\n        &quot;spring.datasource.password&quot;:&quot;123456&quot;,\n        &quot;spring.datasource.driver-class-name&quot;:&quot;com.ibm.db2.jcc.DB2Driver&quot;,\n        &quot;spring.jpa.properties.hibernate.dialect&quot;:&quot;org.hibernate.dialect.DB2Dialect&quot;\n      }&#x27;\n    ports:\n      - &quot;127.0.0.1:8080:8080&quot;</code></pre><ul id=\"8bfda97d-3031-4837-8020-62f61c5d8750\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">docker-compose up db2</li></ul><ul id=\"fd2abbbf-4e38-40d8-bc15-390743aadebc\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">docker-compose up app</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"e6da63de-ee04-4954-80a5-a84df363e7c9\" class=\"code\"><code class=\"language-JavaScript\">docker run -d --rm -v mdb-data:/data/db -p 127.0.0.1:27017:27017 mongo</code></pre><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"9c980279-87ab-41c3-a763-4f91fba92ebe\" class=\"code\"><code class=\"language-JavaScript\">docker run -p 8080:8080 -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin quay.io/keycloak/keycloak:21.1.1 start-dev</code></pre><ul id=\"671bffd3-eaf7-4691-b2b4-90e1f36d91e2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Lệnh chạy postgres và restore:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"5b9b1cf0-92b7-4fe8-a309-e6dafe83272b\" class=\"code\"><code class=\"language-JavaScript\">docker run -dp 5432:5432 -e POSTGRES_PASSWORD=admin -e POSTGRES_USER=camundadev --name my-postgres postgres\n\n\npg_restore -d camundadev camundadev-2023-09-19 -h localhost -p 5432 -U camundadev</code></pre><figure class=\"block-color-red_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"a84f0aed-44ac-4778-83ec-f1bd0e3db7f8\"><div style=\"font-size:1.5em\"><span class=\"icon\">📌</span></div><div style=\"width:100%\"><strong>SUMMARY: Đây là kiến thức cơ bản và nền tảng của Docker.</strong></div></figure><p id=\"c7be6c60-187c-46a7-8b94-1c43e629b2a8\" class=\"\">\n</p></div></article><span class=\"sans\" style=\"font-size:14px;padding-top:2em\"></span></body></html>', 'images/image_4.jpg', '2024-06-02 00:12:58', 1, NULL);
INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(6, 1, 'Docker', 'Engineer', 'Docker', '<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/><title>Docker</title><style>\r\n/* cspell:disable-file */\r\n/* webkit printing magic: print all background colors */\r\nhtml {\r\n	-webkit-print-color-adjust: exact;\r\n}\r\n* {\r\n	box-sizing: border-box;\r\n	-webkit-print-color-adjust: exact;\r\n}\r\n\r\nhtml,\r\nbody {\r\n	margin: 0;\r\n	padding: 0;\r\n}\r\n@media only screen {\r\n	body {\r\n		margin: 2em auto;\r\n		max-width: 900px;\r\n		color: rgb(55, 53, 47);\r\n	}\r\n}\r\n\r\nbody {\r\n	line-height: 1.5;\r\n	white-space: pre-wrap;\r\n}\r\n\r\na,\r\na.visited {\r\n	color: inherit;\r\n	text-decoration: underline;\r\n}\r\n\r\n.pdf-relative-link-path {\r\n	font-size: 80%;\r\n	color: #444;\r\n}\r\n\r\nh1,\r\nh2,\r\nh3 {\r\n	letter-spacing: -0.01em;\r\n	line-height: 1.2;\r\n	font-weight: 600;\r\n	margin-bottom: 0;\r\n}\r\n\r\n.page-title {\r\n	font-size: 2.5rem;\r\n	font-weight: 700;\r\n	margin-top: 0;\r\n	margin-bottom: 0.75em;\r\n}\r\n\r\nh1 {\r\n	font-size: 1.875rem;\r\n	margin-top: 1.875rem;\r\n}\r\n\r\nh2 {\r\n	font-size: 1.5rem;\r\n	margin-top: 1.5rem;\r\n}\r\n\r\nh3 {\r\n	font-size: 1.25rem;\r\n	margin-top: 1.25rem;\r\n}\r\n\r\n.source {\r\n	border: 1px solid #ddd;\r\n	border-radius: 3px;\r\n	padding: 1.5em;\r\n	word-break: break-all;\r\n}\r\n\r\n.callout {\r\n	border-radius: 3px;\r\n	padding: 1rem;\r\n}\r\n\r\nfigure {\r\n	margin: 1.25em 0;\r\n	page-break-inside: avoid;\r\n}\r\n\r\nfigcaption {\r\n	opacity: 0.5;\r\n	font-size: 85%;\r\n	margin-top: 0.5em;\r\n}\r\n\r\nmark {\r\n	background-color: transparent;\r\n}\r\n\r\n.indented {\r\n	padding-left: 1.5em;\r\n}\r\n\r\nhr {\r\n	background: transparent;\r\n	display: block;\r\n	width: 100%;\r\n	height: 1px;\r\n	visibility: visible;\r\n	border: none;\r\n	border-bottom: 1px solid rgba(55, 53, 47, 0.09);\r\n}\r\n\r\nimg {\r\n	max-width: 100%;\r\n}\r\n\r\n@media only print {\r\n	img {\r\n		max-height: 100vh;\r\n		object-fit: contain;\r\n	}\r\n}\r\n\r\n@page {\r\n	margin: 1in;\r\n}\r\n\r\n.collection-content {\r\n	font-size: 0.875rem;\r\n}\r\n\r\n.column-list {\r\n	display: flex;\r\n	justify-content: space-between;\r\n}\r\n\r\n.column {\r\n	padding: 0 1em;\r\n}\r\n\r\n.column:first-child {\r\n	padding-left: 0;\r\n}\r\n\r\n.column:last-child {\r\n	padding-right: 0;\r\n}\r\n\r\n.table_of_contents-item {\r\n	display: block;\r\n	font-size: 0.875rem;\r\n	line-height: 1.3;\r\n	padding: 0.125rem;\r\n}\r\n\r\n.table_of_contents-indent-1 {\r\n	margin-left: 1.5rem;\r\n}\r\n\r\n.table_of_contents-indent-2 {\r\n	margin-left: 3rem;\r\n}\r\n\r\n.table_of_contents-indent-3 {\r\n	margin-left: 4.5rem;\r\n}\r\n\r\n.table_of_contents-link {\r\n	text-decoration: none;\r\n	opacity: 0.7;\r\n	border-bottom: 1px solid rgba(55, 53, 47, 0.18);\r\n}\r\n\r\ntable,\r\nth,\r\ntd {\r\n	border: 1px solid rgba(55, 53, 47, 0.09);\r\n	border-collapse: collapse;\r\n}\r\n\r\ntable {\r\n	border-left: none;\r\n	border-right: none;\r\n}\r\n\r\nth,\r\ntd {\r\n	font-weight: normal;\r\n	padding: 0.25em 0.5em;\r\n	line-height: 1.5;\r\n	min-height: 1.5em;\r\n	text-align: left;\r\n}\r\n\r\nth {\r\n	color: rgba(55, 53, 47, 0.6);\r\n}\r\n\r\nol,\r\nul {\r\n	margin: 0;\r\n	margin-block-start: 0.6em;\r\n	margin-block-end: 0.6em;\r\n}\r\n\r\nli > ol:first-child,\r\nli > ul:first-child {\r\n	margin-block-start: 0.6em;\r\n}\r\n\r\nul > li {\r\n	list-style: disc;\r\n}\r\n\r\nul.to-do-list {\r\n	padding-inline-start: 0;\r\n}\r\n\r\nul.to-do-list > li {\r\n	list-style: none;\r\n}\r\n\r\n.to-do-children-checked {\r\n	text-decoration: line-through;\r\n	opacity: 0.375;\r\n}\r\n\r\nul.toggle > li {\r\n	list-style: none;\r\n}\r\n\r\nul {\r\n	padding-inline-start: 1.7em;\r\n}\r\n\r\nul > li {\r\n	padding-left: 0.1em;\r\n}\r\n\r\nol {\r\n	padding-inline-start: 1.6em;\r\n}\r\n\r\nol > li {\r\n	padding-left: 0.2em;\r\n}\r\n\r\n.mono ol {\r\n	padding-inline-start: 2em;\r\n}\r\n\r\n.mono ol > li {\r\n	text-indent: -0.4em;\r\n}\r\n\r\n.toggle {\r\n	padding-inline-start: 0em;\r\n	list-style-type: none;\r\n}\r\n\r\n/* Indent toggle children */\r\n.toggle > li > details {\r\n	padding-left: 1.7em;\r\n}\r\n\r\n.toggle > li > details > summary {\r\n	margin-left: -1.1em;\r\n}\r\n\r\n.selected-value {\r\n	display: inline-block;\r\n	padding: 0 0.5em;\r\n	background: rgba(206, 205, 202, 0.5);\r\n	border-radius: 3px;\r\n	margin-right: 0.5em;\r\n	margin-top: 0.3em;\r\n	margin-bottom: 0.3em;\r\n	white-space: nowrap;\r\n}\r\n\r\n.collection-title {\r\n	display: inline-block;\r\n	margin-right: 1em;\r\n}\r\n\r\n.page-description {\r\n    margin-bottom: 2em;\r\n}\r\n\r\n.simple-table {\r\n	margin-top: 1em;\r\n	font-size: 0.875rem;\r\n	empty-cells: show;\r\n}\r\n.simple-table td {\r\n	height: 29px;\r\n	min-width: 120px;\r\n}\r\n\r\n.simple-table th {\r\n	height: 29px;\r\n	min-width: 120px;\r\n}\r\n\r\n.simple-table-header-color {\r\n	background: rgb(247, 246, 243);\r\n	color: black;\r\n}\r\n.simple-table-header {\r\n	font-weight: 500;\r\n}\r\n\r\ntime {\r\n	opacity: 0.5;\r\n}\r\n\r\n.icon {\r\n	display: inline-block;\r\n	max-width: 1.2em;\r\n	max-height: 1.2em;\r\n	text-decoration: none;\r\n	vertical-align: text-bottom;\r\n	margin-right: 0.5em;\r\n}\r\n\r\nimg.icon {\r\n	border-radius: 3px;\r\n}\r\n\r\n.user-icon {\r\n	width: 1.5em;\r\n	height: 1.5em;\r\n	border-radius: 100%;\r\n	margin-right: 0.5rem;\r\n}\r\n\r\n.user-icon-inner {\r\n	font-size: 0.8em;\r\n}\r\n\r\n.text-icon {\r\n	border: 1px solid #000;\r\n	text-align: center;\r\n}\r\n\r\n.page-cover-image {\r\n	display: block;\r\n	object-fit: cover;\r\n	width: 100%;\r\n	max-height: 30vh;\r\n}\r\n\r\n.page-header-icon {\r\n	font-size: 3rem;\r\n	margin-bottom: 1rem;\r\n}\r\n\r\n.page-header-icon-with-cover {\r\n	margin-top: -0.72em;\r\n	margin-left: 0.07em;\r\n}\r\n\r\n.page-header-icon img {\r\n	border-radius: 3px;\r\n}\r\n\r\n.link-to-page {\r\n	margin: 1em 0;\r\n	padding: 0;\r\n	border: none;\r\n	font-weight: 500;\r\n}\r\n\r\np > .user {\r\n	opacity: 0.5;\r\n}\r\n\r\ntd > .user,\r\ntd > time {\r\n	white-space: nowrap;\r\n}\r\n\r\ninput[type=\"checkbox\"] {\r\n	transform: scale(1.5);\r\n	margin-right: 0.6em;\r\n	vertical-align: middle;\r\n}\r\n\r\np {\r\n	margin-top: 0.5em;\r\n	margin-bottom: 0.5em;\r\n}\r\n\r\n.image {\r\n	border: none;\r\n	margin: 1.5em 0;\r\n	padding: 0;\r\n	border-radius: 0;\r\n	text-align: center;\r\n}\r\n\r\n.code,\r\ncode {\r\n	background: rgba(135, 131, 120, 0.15);\r\n	border-radius: 3px;\r\n	padding: 0.2em 0.4em;\r\n	border-radius: 3px;\r\n	font-size: 85%;\r\n	tab-size: 2;\r\n}\r\n\r\ncode {\r\n	color: #eb5757;\r\n}\r\n\r\n.code {\r\n	padding: 1.5em 1em;\r\n}\r\n\r\n.code-wrap {\r\n	white-space: pre-wrap;\r\n	word-break: break-all;\r\n}\r\n\r\n.code > code {\r\n	background: none;\r\n	padding: 0;\r\n	font-size: 100%;\r\n	color: inherit;\r\n}\r\n\r\nblockquote {\r\n	font-size: 1.25em;\r\n	margin: 1em 0;\r\n	padding-left: 1em;\r\n	border-left: 3px solid rgb(55, 53, 47);\r\n}\r\n\r\n.bookmark {\r\n	text-decoration: none;\r\n	max-height: 8em;\r\n	padding: 0;\r\n	display: flex;\r\n	width: 100%;\r\n	align-items: stretch;\r\n}\r\n\r\n.bookmark-title {\r\n	font-size: 0.85em;\r\n	overflow: hidden;\r\n	text-overflow: ellipsis;\r\n	height: 1.75em;\r\n	white-space: nowrap;\r\n}\r\n\r\n.bookmark-text {\r\n	display: flex;\r\n	flex-direction: column;\r\n}\r\n\r\n.bookmark-info {\r\n	flex: 4 1 180px;\r\n	padding: 12px 14px 14px;\r\n	display: flex;\r\n	flex-direction: column;\r\n	justify-content: space-between;\r\n}\r\n\r\n.bookmark-image {\r\n	width: 33%;\r\n	flex: 1 1 180px;\r\n	display: block;\r\n	position: relative;\r\n	object-fit: cover;\r\n	border-radius: 1px;\r\n}\r\n\r\n.bookmark-description {\r\n	color: rgba(55, 53, 47, 0.6);\r\n	font-size: 0.75em;\r\n	overflow: hidden;\r\n	max-height: 4.5em;\r\n	word-break: break-word;\r\n}\r\n\r\n.bookmark-href {\r\n	font-size: 0.75em;\r\n	margin-top: 0.25em;\r\n}\r\n\r\n.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"; }\r\n.code { font-family: \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace; }\r\n.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }\r\n.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }\r\n.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK JP\'; }\r\n.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK SC\'; }\r\n.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK TC\'; }\r\n.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK KR\'; }\r\n.pdf .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\r\n.pdf:lang(zh-CN) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\r\n.pdf:lang(zh-TW) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\r\n.pdf:lang(ko-KR) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\r\n.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK JP\'; }\r\n.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK SC\'; }\r\n.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK TC\'; }\r\n.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK KR\'; }\r\n.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\r\n.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\r\n.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\r\n.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\r\n.highlight-default {\r\n	color: rgba(55, 53, 47, 1);\r\n}\r\n.highlight-gray {\r\n	color: rgba(120, 119, 116, 1);\r\n	fill: rgba(120, 119, 116, 1);\r\n}\r\n.highlight-brown {\r\n	color: rgba(159, 107, 83, 1);\r\n	fill: rgba(159, 107, 83, 1);\r\n}\r\n.highlight-orange {\r\n	color: rgba(217, 115, 13, 1);\r\n	fill: rgba(217, 115, 13, 1);\r\n}\r\n.highlight-yellow {\r\n	color: rgba(203, 145, 47, 1);\r\n	fill: rgba(203, 145, 47, 1);\r\n}\r\n.highlight-teal {\r\n	color: rgba(68, 131, 97, 1);\r\n	fill: rgba(68, 131, 97, 1);\r\n}\r\n.highlight-blue {\r\n	color: rgba(51, 126, 169, 1);\r\n	fill: rgba(51, 126, 169, 1);\r\n}\r\n.highlight-purple {\r\n	color: rgba(144, 101, 176, 1);\r\n	fill: rgba(144, 101, 176, 1);\r\n}\r\n.highlight-pink {\r\n	color: rgba(193, 76, 138, 1);\r\n	fill: rgba(193, 76, 138, 1);\r\n}\r\n.highlight-red {\r\n	color: rgba(212, 76, 71, 1);\r\n	fill: rgba(212, 76, 71, 1);\r\n}\r\n.highlight-gray_background {\r\n	background: rgba(241, 241, 239, 1);\r\n}\r\n.highlight-brown_background {\r\n	background: rgba(244, 238, 238, 1);\r\n}\r\n.highlight-orange_background {\r\n	background: rgba(251, 236, 221, 1);\r\n}\r\n.highlight-yellow_background {\r\n	background: rgba(251, 243, 219, 1);\r\n}\r\n.highlight-teal_background {\r\n	background: rgba(237, 243, 236, 1);\r\n}\r\n.highlight-blue_background {\r\n	background: rgba(231, 243, 248, 1);\r\n}\r\n.highlight-purple_background {\r\n	background: rgba(244, 240, 247, 0.8);\r\n}\r\n.highlight-pink_background {\r\n	background: rgba(249, 238, 243, 0.8);\r\n}\r\n.highlight-red_background {\r\n	background: rgba(253, 235, 236, 1);\r\n}\r\n.block-color-default {\r\n	color: inherit;\r\n	fill: inherit;\r\n}\r\n.block-color-gray {\r\n	color: rgba(120, 119, 116, 1);\r\n	fill: rgba(120, 119, 116, 1);\r\n}\r\n.block-color-brown {\r\n	color: rgba(159, 107, 83, 1);\r\n	fill: rgba(159, 107, 83, 1);\r\n}\r\n.block-color-orange {\r\n	color: rgba(217, 115, 13, 1);\r\n	fill: rgba(217, 115, 13, 1);\r\n}\r\n.block-color-yellow {\r\n	color: rgba(203, 145, 47, 1);\r\n	fill: rgba(203, 145, 47, 1);\r\n}\r\n.block-color-teal {\r\n	color: rgba(68, 131, 97, 1);\r\n	fill: rgba(68, 131, 97, 1);\r\n}\r\n.block-color-blue {\r\n	color: rgba(51, 126, 169, 1);\r\n	fill: rgba(51, 126, 169, 1);\r\n}\r\n.block-color-purple {\r\n	color: rgba(144, 101, 176, 1);\r\n	fill: rgba(144, 101, 176, 1);\r\n}\r\n.block-color-pink {\r\n	color: rgba(193, 76, 138, 1);\r\n	fill: rgba(193, 76, 138, 1);\r\n}\r\n.block-color-red {\r\n	color: rgba(212, 76, 71, 1);\r\n	fill: rgba(212, 76, 71, 1);\r\n}\r\n.block-color-gray_background {\r\n	background: rgba(241, 241, 239, 1);\r\n}\r\n.block-color-brown_background {\r\n	background: rgba(244, 238, 238, 1);\r\n}\r\n.block-color-orange_background {\r\n	background: rgba(251, 236, 221, 1);\r\n}\r\n.block-color-yellow_background {\r\n	background: rgba(251, 243, 219, 1);\r\n}\r\n.block-color-teal_background {\r\n	background: rgba(237, 243, 236, 1);\r\n}\r\n.block-color-blue_background {\r\n	background: rgba(231, 243, 248, 1);\r\n}\r\n.block-color-purple_background {\r\n	background: rgba(244, 240, 247, 0.8);\r\n}\r\n.block-color-pink_background {\r\n	background: rgba(249, 238, 243, 0.8);\r\n}\r\n.block-color-red_background {\r\n	background: rgba(253, 235, 236, 1);\r\n}\r\n.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }\r\n.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }\r\n.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }\r\n.select-value-color-green { background-color: rgba(219, 237, 219, 1); }\r\n.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }\r\n.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }\r\n.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }\r\n.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }\r\n.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }\r\n.select-value-color-red { background-color: rgba(255, 226, 221, 1); }\r\n.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }\r\n.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }\r\n.select-value-color-pageGlass { background-color: undefined; }\r\n.select-value-color-washGlass { background-color: undefined; }\r\n\r\n.checkbox {\r\n	display: inline-flex;\r\n	vertical-align: text-bottom;\r\n	width: 16;\r\n	height: 16;\r\n	background-size: 16px;\r\n	margin-left: 2px;\r\n	margin-right: 5px;\r\n}\r\n\r\n.checkbox-on {\r\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E\");\r\n}\r\n\r\n.checkbox-off {\r\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E\");\r\n}\r\n	\r\n</style></head><body><article id=\"77d11985-bd5f-4e40-849b-c8830124aa19\" class=\"page sans\"><header><div class=\"page-header-icon undefined\"><span class=\"icon\">🐋</span></div><h1 class=\"page-title\">Docker</h1><p class=\"page-description\"></p></header><div class=\"page-body\"><figure class=\"block-color-gray_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"5c213909-ae0a-4608-a568-63cebb73a75e\"><div style=\"font-size:1.5em\"><span class=\"icon\">💡</span></div><div style=\"width:100%\">Docker là một nền tảng hỗ trợ chạy các ứng dụng trên các container. Được viết ban đầu bằng Python sau đó chuyển sang Golang</div></figure><h2 id=\"5c132c2a-1ec9-421f-b7d5-c7fd50e17e9a\" class=\"\">Tutorial</h2><ul id=\"bfcae7e2-fa51-41b2-9e32-9f89656fb7ad\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cách câu lệnh của docker<ul id=\"be16fe90-144c-42d7-b0dd-9efb99d3a7e4\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker run nginx</strong> ( để start container, nếu không có thì sẽ pull image ở docker hub về, chạy 1 lần, lần sau thì dùng image)</li></ul><ul id=\"9149adf4-3338-425a-b5a1-0fb3a7a4f542\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker ps</strong> ( để liệt kê các container container đang chạy, -a để liệt kê cả các container ko đang chạy) </li></ul><ul id=\"958bee8d-5edb-435d-ad4e-78c358dc4ae8\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker stop [container_id] </strong>(để stop container)</li></ul><ul id=\"80a4351e-2290-49f6-93fc-07ec62a59104\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker rm</strong> [<strong>container_id] </strong>(để remove container)</li></ul><ul id=\"16fa0501-d9cc-42bf-9067-84cf2197741e\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker images</strong> ( hiển thị list các images )</li></ul><ul id=\"fb7fe3e6-fbda-4ed3-b0b6-caedc31c3c87\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker rmi [tên image]</strong> ( để xóa image thì phải xóa các container liên quan trước, bằng lệnh <strong>docker rm</strong> ở trên )</li></ul><ul id=\"aa19f3b3-25ff-41f1-910e-822cfe96e466\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>docker pull nginx </strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>( để kéo image về chứ ko chạy, lệnh run là vừa kéo về vừa chạy )</li></ul><ul id=\"3f83ad2c-7edd-4508-9483-1baa0d9168e1\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker run -it node</strong> ( để chạy node container và có thể exe cmd ở trong) </li></ul><ul id=\"bc1a32a0-7bb7-4b60-bb06-7583da73cf3b\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>docker exec -it [tên container] npm init </strong>(để chạy cmd bên trong node ở chế độ interactive)</li></ul></li></ul><ul id=\"e52c6534-73d4-42d6-92c9-f2768e9f6e0f\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker run với volumn <ul id=\"0a3c0d7d-e85a-4e6b-8116-37c7758c8747\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">docker run -v /otp/datadir:/var/lib/mysql mysql <p id=\"da435215-f164-49ce-880b-9d712c09b582\" class=\"\">⇒ /otp/datadir: là phải có sẵn ở máy local, nếu ko có thì phải tạo trước</p></li></ul></li></ul><ul id=\"d0c76e87-928b-4c1f-9ef3-e346e8126e30\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để build image từ Dockerfile (image có thể đẩy lên docker hub để người khác sử dụng)<ul id=\"234b3e9e-b2c6-4631-a77b-9af82b2a6c42\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">docker build .</li></ul></li></ul><ul id=\"94a9ca1a-8ab3-4e97-9da9-ab41f8805254\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Environment variable:<ul id=\"69148d2d-410b-4cd5-a6ef-b53ec7b337b9\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Để chạy docker với enviroment: -e</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"9ab69f43-a43b-4e1d-9823-f74649c9ac91\" class=\"code\"><code class=\"language-JavaScript\">docker run --name some-sql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=admin -d mysql</code></pre><ul id=\"5e53b66b-7864-4d7c-b57b-2fe26903000a\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Để xem các tham số các enviroment: docker inspect [tên_image]</li></ul></li></ul><ul id=\"1025cce1-f53e-4650-881c-13c1eccdbc1c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Command và entry point:<ul id=\"f26ac05a-6766-4939-84c8-baf9eec1edcd\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Command là chạy luôn</li></ul><ul id=\"72ad9653-b9ce-4f9e-95d3-209b1089934e\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Entry point là nhập tham số vào để chạy<ul id=\"47bb4d84-b23a-4043-9639-3ede30cdb0ab\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Ví dụ ENTRYPOINT [ ”npm” ] nằm ở trong Dockerfile</li></ul><ul id=\"19ff6163-3b91-43f8-81c8-64b352ac2c28\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Khi start container thì chỉ cần nhập giá trị ở sau npm (ví dụ: install, init …)</li></ul></li></ul><ul id=\"0b52a6b6-d6b3-4c74-b841-991953a6d589\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Có thể kết hợp entry point và command để tạo tham số mặc định cho entry point </li></ul></li></ul><ul id=\"39b94b2d-0fc0-4a96-b05d-ea2543aa12f9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker registry: để tạo và up vào registry local<script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"a092ac22-1199-40ed-bff6-ec0956f1e65c\" class=\"code\"><code class=\"language-JavaScript\">docker pull nginx:latest\r\ndocker image tag nginx:latest localhost:5000/nginx:latest\r\ndocker push localhost:5000/nginx:latest</code></pre></li></ul><ul id=\"d8ccc3dc-6b50-454a-91da-fdfeb888e8ab\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker PID<ul id=\"94325a00-0d56-42aa-a8d1-844460da16bc\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Khi mà khởi chạy 1 container thì sẽ tạo ra 1 tiến trình ở trong container, tiến trình này ánh xạ với 1 tiến trình ở bên ngoài host (PID ở trong container và ở host giá trị khác nhau)</li></ul><ul id=\"eaafb3db-3bbe-4b34-953d-1f35e45b050a\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Để chạy lệnh ở bên trong container:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"d1303396-9e8a-4382-b09a-7565c30d1740\" class=\"code\"><code class=\"language-JavaScript\">docker exec [container_id] ps -eaf</code></pre></li></ul><h2 id=\"0089c8b5-9f71-483b-9a67-2462cf2d9bc7\" class=\"\">Docker storage</h2><ul id=\"c98d837a-4fac-423c-a39b-aa5485cfccc8\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các loại volume:<ul id=\"470cc503-2fa8-4a8c-94ce-864dbd42a822\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Anonymous Volumes<ul id=\"384144d2-7e51-4e86-a5ca-411214c77639\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Dùng cho 1 single container</li></ul></li></ul><ul id=\"b3051c89-4593-4cff-80cc-7b4e8c21f7b7\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Named Volumes<ul id=\"c2037c64-abf1-44b6-a544-e48c272b3210\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Có thể share giữa các container</li></ul></li></ul><ul id=\"23ddd36c-9878-48ad-918c-6dda621cc038\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bind Mount<ul id=\"1ee37cb2-ed36-4181-b3cc-2326da377dc0\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Nằm ở local machines</li></ul></li></ul></li></ul><ul id=\"c651e6eb-55b8-4e9a-9083-acadfbbdc139\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Mặc định khi cài đặt docker thì lưu trữ ở /var/lib/docker</li></ul><ul id=\"8bea1a52-942f-472c-a2e7-758bb341435d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các layer trong lưu trữ:<ul id=\"0c782f14-4d34-4240-ad46-e1769c6e20b5\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Container layer: có thể edit, và hủy khi container bị hủy</li></ul><ul id=\"1302b3c4-b0dc-4c31-babc-131df977cdfe\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Image layers: chỉ có thể đọc</li></ul></li></ul><ul id=\"7111216b-9ff7-4b26-ab95-4be1b2a099f2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Mount trong docker<ul id=\"6cebc84d-b77b-42a5-8d65-7ddf8917888a\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Volume mount (được quản lý bởi docker): xịn hơn, volume , mount point nằm ở var/lib/docker/volume</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"156a5ae5-b8e2-4055-b0b6-9aa78944c737\" class=\"code\"><code class=\"language-JavaScript\">docker run -dp 3000:80 -v feedback:/app/feedback feedback-node:volumes</code></pre><p id=\"af3de35b-6ba2-4e30-acf9-894d683f3dea\" class=\"\">⇒ Store data ở volumn có tên là feedback, đường dẫn /app/feedback. Nếu mà xóa container đi rồi khởi tạo lại với <em>-v feedback:/app/feedback </em>thì dữ liệu vẫn còn.</p><p id=\"7409d2b1-7743-49be-a0f1-95eaf43b054b\" class=\"\">\r\n</p><ul id=\"23fab0b5-28cc-4f60-993b-2ad96b2fce14\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bind mount (do mình quản lý) điểm mount có thể là bất cứ ở đâu.<ul id=\"d41253fe-68e8-41bf-8e60-6bce9667fad7\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Define a path ở trên local</li></ul><ul id=\"6e0f80b7-3a8f-4624-a0a0-5f545f85d2d2\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Hỗ trợ tốt cho các data có thể edit được, như các file trong html, js</li></ul></li></ul></li></ul><p id=\"526b5cca-acac-4ea1-8513-53790ba86d80\" class=\"\"><div class=\"indented\"><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"02dcf422-1f32-45f1-ad7f-532585f69d00\" class=\"code\"><code class=\"language-Dhall\" style=\"white-space:pre-wrap;word-break:break-all\">	docker run -dp 3000:80 -v feedback:/app/feedback -v &quot;&lt;duong_dan_local&gt;:/app&quot; -v /app/node_modules feedback-node:volumes</code></pre><p id=\"1bb74d45-3a33-47a4-89c2-53ae08fe3a60\" class=\"\">⇒ volumn feedback được quản ly bởi docker, ko xóa khi xóa container</p><p id=\"9beb7b3a-f240-42bf-a999-25fd16b4953e\" class=\"\">⇒ /app được mount từ local</p><p id=\"1024a37b-80a5-4794-abb5-d69e01ea305a\" class=\"\">⇒ /app/node_modules đc quản lý bởi anonymous volumn, nên sẽ ko bị local overwrite</p></div></p><h2 id=\"0195e7e1-5e39-4020-8f64-f4a220d9e2c3\" class=\"\">Docker network:</h2><ul id=\"9fbb2006-a037-4a1a-83bc-8b5c0a87db61\" class=\"bulleted-list\"><li style=\"list-style-type:disc\"><strong>docker create network &lt;network_name&gt; </strong>(tạo network)</li></ul><ul id=\"167a1f85-0dcb-4b76-bdab-d67caadf0565\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">docker có thể lấy tên của container để làm domain</li></ul><ul id=\"b7453de2-7017-4270-a835-d509d838bfdd\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các loại network:<ul id=\"67ebf0bc-181b-47ef-8e56-48bfa7130d07\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bridge network: mặc định</li></ul><ul id=\"3ddc1e11-0a56-4c8d-81c7-2fda5f4ef500\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">None: là ko có network, ko kết nối vào và ra đc</li></ul><ul id=\"6e4efa12-7199-44cb-ab93-429a9b9d8775\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Host: là network do mình tạo ra</li></ul></li></ul><ul id=\"9fa6f569-6033-424e-8840-4ef7f1270509\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Trong docker có DNS server để xử lý network</li></ul><ul id=\"b018e1cd-ec17-43d6-bc82-18676fe05a72\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Container orchestation: để quản lý các container trong docker<ul id=\"18b254aa-698e-4d27-badb-cbaaad363183\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Có 2 loại hay dùng: Docker swarm hoặc kubernetes</li></ul></li></ul><ul id=\"4342ab2b-db65-453e-8511-82ba4e90d1b9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để kết nối từ container vào máy local thì có thể dùng url:<ul id=\"785a3db2-d495-43be-a1e7-86d3cbc69263\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">host.docker.internal</li></ul></li></ul><p id=\"a0bd52bd-7363-4ed0-8b9e-c15697943cb0\" class=\"\">\r\n</p><h2 id=\"b23cef3b-4824-4d89-a59c-c71f3011004b\" class=\"\">Docker utility:</h2><h2 id=\"41ec7d39-92b5-4b2f-9b0b-103b93c293f1\" class=\"\">Something more</h2><ul id=\"fabf9f6f-7485-42e0-aafe-64ae5033f79c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Ta có thể copy file vào container đang chạy, hoặc copy file từ trong container đang chạy ra local bằng câu lệnh:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"a11c84c2-868d-48a5-bb6b-a52ed7d35bb5\" class=\"code\"><code class=\"language-JavaScript\" style=\"white-space:pre-wrap;word-break:break-all\">docker cp &lt;source&gt; &lt;destination&gt; (docker cp dummy/. boring_vaughan)\r\n\r\n=&gt; Copy tất cả các file ở trong folder dummy vào container boring_vaughan</code></pre><h2 id=\"3434ff19-668e-4ee4-bd47-cd14c5ce4aa2\" class=\"\">Docker compose</h2><ul id=\"89f7d103-d91a-425b-b69e-faf196a950a5\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker compose ko thay thế Dockerfile, nó làm việc cùng Dockerfile</li></ul><ul id=\"2df3e97f-87f5-4d69-ab60-7116e2913c7d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker compose để quản lý nhiều container cùng 1 host, ko dùng để quản lý nhiều container ở nhiều host khác nhau</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"56261310-0e5f-4b08-9040-ca4a84ef4c63\" class=\"code\"><code class=\"language-Plain Text\" style=\"white-space:pre-wrap;word-break:break-all\">version: &#x27;3.8&#x27;\r\n\r\nservices:\r\n  mongodb: =&gt; container name\r\n    image: &#x27;mongo&#x27;\r\n    container_name: mongodb\r\n    environment:\r\n      - MONGO_INITDB_ROOT_USERNAME=max\r\n      - MONGO_INITDB_ROOT_PASSWORD=secret\r\n    volumes:\r\n      - data:/data/db\r\n    networks:\r\n      - goals-net\r\n    restart: unless-stopped\r\n    \r\n	backend:\r\n	  build: ./backend =&gt; Khi goi compose thi se build image moi\r\n	  port: \r\n	    - &#x27;80:80&#x27;\r\n	  volumnes:\r\n	    - logs:/app/logs  (name volume)\r\n	    - ./backend:/app =&gt; bind backend o local vao folder app o trong container\r\n	    - /app/node_modules (anonymous volume)\r\n    depend_on: \r\n      - mongodb\r\n\r\nnetworks:\r\n  goals-net:\r\n    driver: bridge\r\n\r\nvolumes:  =&gt; Noi khai bao volumn\r\n  data:\r\n  logs:\r\n    \r\n  app:\r\n  \r\n  frontend:\r\n    </code></pre><h2 id=\"c406ed34-bc43-47bf-a436-1b8a4f371c0b\" class=\"\">Image layers</h2><ul id=\"51fd9721-5443-4bbc-9f7b-347646b1dde2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Khi thự hiện build image thì mỗi step sẽ tạo thành 1 layer.<figure id=\"a954222c-9177-40fb-b2be-4273cde2de28\" class=\"image\"><a href=\"/images/notion/docker/Untitled.png\"><img style=\"width:886px\" src=\"/images/notion/docker/Untitled.png\"/></a></figure></li></ul><ul id=\"102e5472-871a-4312-8a59-0ecfc25be3b7\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Khi thực hiện build lại thì các layer có thể tái sử dụng cache của lần build trước để tăng tốc độ build images</li></ul><h2 id=\"5b149f4f-3214-4384-97ac-f1a26e820a4e\" class=\"\">Deploy docker container</h2><ul id=\"3e475e1f-01aa-4a6f-8a57-aded756c6354\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Bind Mounts in Production<ul id=\"e3ecea5b-6d00-46de-a68f-c0e24938fbe7\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bind Mount chỉ sử dụng để run test local, không để trong Dockerfile</li></ul></li></ul><ul id=\"fd9d251e-c0b1-49b7-9941-50607580131c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Trước khi build thì igore một số file: node_modules, Dockerfile, *.pem (liên quan đến key)</li></ul><ul id=\"291ac208-2609-4e6a-a211-ab78cb4556b0\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Build image, rồi push image lên docker hub</li></ul><p id=\"241a450b-901c-468c-92e7-37b0dfd8a5bc\" class=\"\">\r\n</p><h3 id=\"69b2ad05-6d61-4f4a-acaf-0a29e3514736\" class=\"\">1. Bắt đầu</h3><ul id=\"8c1c8bc1-617d-4b36-bad2-cc9261fa8219\" class=\"block-color-yellow_background bulleted-list\"><li style=\"list-style-type:disc\">Start docker bằng lệnh: <strong>sudo service docker start</strong></li></ul><ul id=\"b543d6ec-d939-4175-9c4f-91828778c95c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\"><code>docker run -d -p 80:80 docker/getting-started</code><ul id=\"8ef4a3f8-d19f-4a64-8312-10c62d4196ce\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Một số tham số khác<ul id=\"325fbd37-2de7-40a2-baad-05c03ca46388\" class=\"bulleted-list\"><li style=\"list-style-type:square\">-it : chế độ interact, nghĩa là có thể chạy để nhập std.</li></ul></li></ul></li></ul><ul id=\"2d6975b0-b6de-4921-9840-2d2f9f5a45e8\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker container là một môi trường để chạy (như là 1 object)</li></ul><ul id=\"ced7d3ad-9843-4721-aedc-b0f625599aa3\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Docker image là 1 file cơ sở để xây dựng lên container (như là 1 class). Một container chính là 1 image đang chạy (như là 1 instance).</li></ul><ul id=\"4895a92e-d470-40ba-b2c0-feab333930f9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để start container: <script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"19890d31-f8f6-4ad6-a7a0-2fc43e02c887\" class=\"code\"><code class=\"language-Lua\">docker start mysql8-container</code></pre></li></ul><h3 id=\"60e08023-bda3-436a-b002-ef9175d73975\" class=\"\">2. Sample application</h3><ul id=\"e18e8643-8798-482c-86ba-0b6ad23cbcb4\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Dockerfile là tập tin các chỉ thị, khi gọi sẽ tạo ra image.</li></ul><ul id=\"7727ed60-e828-47d2-858f-7619010a3bd5\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để build docker file:<br/><br/><code>docker build -t getting-started .</code></li></ul><ul id=\"dfedf1fc-b98b-49ce-9a08-8f8d4f3e69fa\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Sau khi build đc image thì sẽ start docker container</li></ul><ul id=\"94047ad4-2726-41d5-8b23-5d1c7c5d766a\" class=\"bulleted-list\"><li style=\"list-style-type:disc\"><code>docker run -dp 3000:3000 getting-started</code></li></ul><h3 id=\"306d2b08-ae7d-45a2-b965-3e9bc8987ec8\" class=\"\">3. Update application</h3><ul id=\"6f2ca9da-0d71-4823-b69d-ed78762fb0fb\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Sửa code</li></ul><ul id=\"6886d4fb-13ce-4d16-bda1-858e9faadaa2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Build lại image mới: <code>docker build -t getting-started .</code></li></ul><ul id=\"e4445d0d-3e44-47ec-ad85-3415396e2833\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Xóa container cũ đi: <code>docker ps; docker rm -f &lt;the-container-id&gt;</code></li></ul><ul id=\"f234ebc9-bb87-4ddf-8e43-93ee61374e09\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Chạy container với image mới: <code>docker run -dp 3000:3000 getting-started</code></li></ul><p id=\"33b091ed-c2b4-4e9d-b480-6ac9430c57d2\" class=\"\">\r\n</p><h3 id=\"9dbadfe7-a7a9-4841-b667-dac485cc10fd\" class=\"\">4. Dockerfile</h3><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"2bb8ed62-6c40-4ebd-a0bb-56eddce592bd\" class=\"code\"><code class=\"language-JavaScript\">FROM node =&gt;. Dung node\r\n\r\nWORKINGDIR /app  =&gt; Cac cmd se run o trong thu muc app\r\n\r\nCOPY . /app =&gt; copy tat ca cac file o code vao /app\r\n\r\nRUN npm install =&gt; chay cmd \r\n\r\nENV PORT 80 =&gt; tao ra env port = 80 trong luc build\r\n\r\nEXPOSE $PORT \r\n\r\nCMD [&quot;node&quot;, &quot;server.js&quot;]</code></pre><h3 id=\"5a4202e6-c3e8-42d8-b303-e9eda4387814\" class=\"\">X. Dockerize</h3><ul id=\"0aa81c25-254f-4019-913d-f07bb35748db\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Viết docker-compose.yml</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"87e842e5-1649-405b-a865-8f1f6ef7cea4\" class=\"code\"><code class=\"language-Plain Text\" style=\"white-space:pre-wrap;word-break:break-all\">version: &#x27;2&#x27;\r\n\r\nservices:\r\n  db2:\r\n    image: &#x27;ibmcom/db2&#x27;\r\n    container_name: mydb2\r\n    privileged: true\r\n    ports:\r\n      - 50000:50000\r\n    environment:\r\n      DB2INST1_PASSWORD: 123456\r\n      LICENSE: accept\r\n      DBNAME: testdb\r\n\r\napp:\r\n    image: &#x27;springio/gs-spring-boot-docker&#x27;\r\n    build:\r\n      context: .\r\n    container_name: app\r\n    depends_on:\r\n      - db2\r\n    environment:\r\n      SPRING_APPLICATION_JSON: &#x27;{\r\n        &quot;spring.datasource.url&quot;:&quot;jdbc:db2://mydb2:50000/testdb&quot;,\r\n        &quot;spring.datasource.username&quot;:&quot;db2inst1&quot;,\r\n        &quot;spring.datasource.password&quot;:&quot;123456&quot;,\r\n        &quot;spring.datasource.driver-class-name&quot;:&quot;com.ibm.db2.jcc.DB2Driver&quot;,\r\n        &quot;spring.jpa.properties.hibernate.dialect&quot;:&quot;org.hibernate.dialect.DB2Dialect&quot;\r\n      }&#x27;\r\n    ports:\r\n      - &quot;127.0.0.1:8080:8080&quot;</code></pre><ul id=\"8bfda97d-3031-4837-8020-62f61c5d8750\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">docker-compose up db2</li></ul><ul id=\"fd2abbbf-4e38-40d8-bc15-390743aadebc\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">docker-compose up app</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"e6da63de-ee04-4954-80a5-a84df363e7c9\" class=\"code\"><code class=\"language-JavaScript\">docker run -d --rm -v mdb-data:/data/db -p 127.0.0.1:27017:27017 mongo</code></pre><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"9c980279-87ab-41c3-a763-4f91fba92ebe\" class=\"code\"><code class=\"language-JavaScript\">docker run -p 8080:8080 -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin quay.io/keycloak/keycloak:21.1.1 start-dev</code></pre><ul id=\"671bffd3-eaf7-4691-b2b4-90e1f36d91e2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Lệnh chạy postgres và restore:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"5b9b1cf0-92b7-4fe8-a309-e6dafe83272b\" class=\"code\"><code class=\"language-JavaScript\">docker run -dp 5432:5432 -e POSTGRES_PASSWORD=admin -e POSTGRES_USER=camundadev --name my-postgres postgres\r\n\r\n\r\npg_restore -d camundadev camundadev-2023-09-19 -h localhost -p 5432 -U camundadev</code></pre><figure class=\"block-color-red_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"a84f0aed-44ac-4778-83ec-f1bd0e3db7f8\"><div style=\"font-size:1.5em\"><span class=\"icon\">📌</span></div><div style=\"width:100%\"><strong>SUMMARY: Đây là kiến thức cơ bản và nền tảng của Docker.</strong></div></figure><p id=\"c7be6c60-187c-46a7-8b94-1c43e629b2a8\" class=\"\">\r\n</p></div></article><span class=\"sans\" style=\"font-size:14px;padding-top:2em\"></span></body></html>', 'images/image_5.jpg', '2024-06-02 12:59:08', 1, NULL);
INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(7, 1, 'Bitcoin', 'Engineer', 'Bitcoin', '<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/><title>Bitcoin</title><style>\n/* cspell:disable-file */\n/* webkit printing magic: print all background colors */\nhtml {\n	-webkit-print-color-adjust: exact;\n}\n* {\n	box-sizing: border-box;\n	-webkit-print-color-adjust: exact;\n}\n\nhtml,\nbody {\n	margin: 0;\n	padding: 0;\n}\n@media only screen {\n	body {\n		margin: 2em auto;\n		max-width: 900px;\n		color: rgb(55, 53, 47);\n	}\n}\n\nbody {\n	line-height: 1.5;\n	white-space: pre-wrap;\n}\n\na,\na.visited {\n	color: inherit;\n	text-decoration: underline;\n}\n\n.pdf-relative-link-path {\n	font-size: 80%;\n	color: #444;\n}\n\nh1,\nh2,\nh3 {\n	letter-spacing: -0.01em;\n	line-height: 1.2;\n	font-weight: 600;\n	margin-bottom: 0;\n}\n\n.page-title {\n	font-size: 2.5rem;\n	font-weight: 700;\n	margin-top: 0;\n	margin-bottom: 0.75em;\n}\n\nh1 {\n	font-size: 1.875rem;\n	margin-top: 1.875rem;\n}\n\nh2 {\n	font-size: 1.5rem;\n	margin-top: 1.5rem;\n}\n\nh3 {\n	font-size: 1.25rem;\n	margin-top: 1.25rem;\n}\n\n.source {\n	border: 1px solid #ddd;\n	border-radius: 3px;\n	padding: 1.5em;\n	word-break: break-all;\n}\n\n.callout {\n	border-radius: 3px;\n	padding: 1rem;\n}\n\nfigure {\n	margin: 1.25em 0;\n	page-break-inside: avoid;\n}\n\nfigcaption {\n	opacity: 0.5;\n	font-size: 85%;\n	margin-top: 0.5em;\n}\n\nmark {\n	background-color: transparent;\n}\n\n.indented {\n	padding-left: 1.5em;\n}\n\nhr {\n	background: transparent;\n	display: block;\n	width: 100%;\n	height: 1px;\n	visibility: visible;\n	border: none;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.09);\n}\n\nimg {\n	max-width: 100%;\n}\n\n@media only print {\n	img {\n		max-height: 100vh;\n		object-fit: contain;\n	}\n}\n\n@page {\n	margin: 1in;\n}\n\n.collection-content {\n	font-size: 0.875rem;\n}\n\n.column-list {\n	display: flex;\n	justify-content: space-between;\n}\n\n.column {\n	padding: 0 1em;\n}\n\n.column:first-child {\n	padding-left: 0;\n}\n\n.column:last-child {\n	padding-right: 0;\n}\n\n.table_of_contents-item {\n	display: block;\n	font-size: 0.875rem;\n	line-height: 1.3;\n	padding: 0.125rem;\n}\n\n.table_of_contents-indent-1 {\n	margin-left: 1.5rem;\n}\n\n.table_of_contents-indent-2 {\n	margin-left: 3rem;\n}\n\n.table_of_contents-indent-3 {\n	margin-left: 4.5rem;\n}\n\n.table_of_contents-link {\n	text-decoration: none;\n	opacity: 0.7;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.18);\n}\n\ntable,\nth,\ntd {\n	border: 1px solid rgba(55, 53, 47, 0.09);\n	border-collapse: collapse;\n}\n\ntable {\n	border-left: none;\n	border-right: none;\n}\n\nth,\ntd {\n	font-weight: normal;\n	padding: 0.25em 0.5em;\n	line-height: 1.5;\n	min-height: 1.5em;\n	text-align: left;\n}\n\nth {\n	color: rgba(55, 53, 47, 0.6);\n}\n\nol,\nul {\n	margin: 0;\n	margin-block-start: 0.6em;\n	margin-block-end: 0.6em;\n}\n\nli > ol:first-child,\nli > ul:first-child {\n	margin-block-start: 0.6em;\n}\n\nul > li {\n	list-style: disc;\n}\n\nul.to-do-list {\n	padding-inline-start: 0;\n}\n\nul.to-do-list > li {\n	list-style: none;\n}\n\n.to-do-children-checked {\n	text-decoration: line-through;\n	opacity: 0.375;\n}\n\nul.toggle > li {\n	list-style: none;\n}\n\nul {\n	padding-inline-start: 1.7em;\n}\n\nul > li {\n	padding-left: 0.1em;\n}\n\nol {\n	padding-inline-start: 1.6em;\n}\n\nol > li {\n	padding-left: 0.2em;\n}\n\n.mono ol {\n	padding-inline-start: 2em;\n}\n\n.mono ol > li {\n	text-indent: -0.4em;\n}\n\n.toggle {\n	padding-inline-start: 0em;\n	list-style-type: none;\n}\n\n/* Indent toggle children */\n.toggle > li > details {\n	padding-left: 1.7em;\n}\n\n.toggle > li > details > summary {\n	margin-left: -1.1em;\n}\n\n.selected-value {\n	display: inline-block;\n	padding: 0 0.5em;\n	background: rgba(206, 205, 202, 0.5);\n	border-radius: 3px;\n	margin-right: 0.5em;\n	margin-top: 0.3em;\n	margin-bottom: 0.3em;\n	white-space: nowrap;\n}\n\n.collection-title {\n	display: inline-block;\n	margin-right: 1em;\n}\n\n.page-description {\n    margin-bottom: 2em;\n}\n\n.simple-table {\n	margin-top: 1em;\n	font-size: 0.875rem;\n	empty-cells: show;\n}\n.simple-table td {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table th {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table-header-color {\n	background: rgb(247, 246, 243);\n	color: black;\n}\n.simple-table-header {\n	font-weight: 500;\n}\n\ntime {\n	opacity: 0.5;\n}\n\n.icon {\n	display: inline-block;\n	max-width: 1.2em;\n	max-height: 1.2em;\n	text-decoration: none;\n	vertical-align: text-bottom;\n	margin-right: 0.5em;\n}\n\nimg.icon {\n	border-radius: 3px;\n}\n\n.user-icon {\n	width: 1.5em;\n	height: 1.5em;\n	border-radius: 100%;\n	margin-right: 0.5rem;\n}\n\n.user-icon-inner {\n	font-size: 0.8em;\n}\n\n.text-icon {\n	border: 1px solid #000;\n	text-align: center;\n}\n\n.page-cover-image {\n	display: block;\n	object-fit: cover;\n	width: 100%;\n	max-height: 30vh;\n}\n\n.page-header-icon {\n	font-size: 3rem;\n	margin-bottom: 1rem;\n}\n\n.page-header-icon-with-cover {\n	margin-top: -0.72em;\n	margin-left: 0.07em;\n}\n\n.page-header-icon img {\n	border-radius: 3px;\n}\n\n.link-to-page {\n	margin: 1em 0;\n	padding: 0;\n	border: none;\n	font-weight: 500;\n}\n\np > .user {\n	opacity: 0.5;\n}\n\ntd > .user,\ntd > time {\n	white-space: nowrap;\n}\n\ninput[type=\"checkbox\"] {\n	transform: scale(1.5);\n	margin-right: 0.6em;\n	vertical-align: middle;\n}\n\np {\n	margin-top: 0.5em;\n	margin-bottom: 0.5em;\n}\n\n.image {\n	border: none;\n	margin: 1.5em 0;\n	padding: 0;\n	border-radius: 0;\n	text-align: center;\n}\n\n.code,\ncode {\n	background: rgba(135, 131, 120, 0.15);\n	border-radius: 3px;\n	padding: 0.2em 0.4em;\n	border-radius: 3px;\n	font-size: 85%;\n	tab-size: 2;\n}\n\ncode {\n	color: #eb5757;\n}\n\n.code {\n	padding: 1.5em 1em;\n}\n\n.code-wrap {\n	white-space: pre-wrap;\n	word-break: break-all;\n}\n\n.code > code {\n	background: none;\n	padding: 0;\n	font-size: 100%;\n	color: inherit;\n}\n\nblockquote {\n	font-size: 1.25em;\n	margin: 1em 0;\n	padding-left: 1em;\n	border-left: 3px solid rgb(55, 53, 47);\n}\n\n.bookmark {\n	text-decoration: none;\n	max-height: 8em;\n	padding: 0;\n	display: flex;\n	width: 100%;\n	align-items: stretch;\n}\n\n.bookmark-title {\n	font-size: 0.85em;\n	overflow: hidden;\n	text-overflow: ellipsis;\n	height: 1.75em;\n	white-space: nowrap;\n}\n\n.bookmark-text {\n	display: flex;\n	flex-direction: column;\n}\n\n.bookmark-info {\n	flex: 4 1 180px;\n	padding: 12px 14px 14px;\n	display: flex;\n	flex-direction: column;\n	justify-content: space-between;\n}\n\n.bookmark-image {\n	width: 33%;\n	flex: 1 1 180px;\n	display: block;\n	position: relative;\n	object-fit: cover;\n	border-radius: 1px;\n}\n\n.bookmark-description {\n	color: rgba(55, 53, 47, 0.6);\n	font-size: 0.75em;\n	overflow: hidden;\n	max-height: 4.5em;\n	word-break: break-word;\n}\n\n.bookmark-href {\n	font-size: 0.75em;\n	margin-top: 0.25em;\n}\n\n.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"; }\n.code { font-family: \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace; }\n.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }\n.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }\n.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK JP\'; }\n.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK SC\'; }\n.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK TC\'; }\n.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK KR\'; }\n.pdf .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK JP\'; }\n.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK SC\'; }\n.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK TC\'; }\n.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK KR\'; }\n.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.highlight-default {\n	color: rgba(55, 53, 47, 1);\n}\n.highlight-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.highlight-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.highlight-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.highlight-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.highlight-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.highlight-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.highlight-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.highlight-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.highlight-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.highlight-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.highlight-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.highlight-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.highlight-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.highlight-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.highlight-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.highlight-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.highlight-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.highlight-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.block-color-default {\n	color: inherit;\n	fill: inherit;\n}\n.block-color-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.block-color-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.block-color-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.block-color-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.block-color-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.block-color-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.block-color-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.block-color-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.block-color-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.block-color-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.block-color-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.block-color-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.block-color-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.block-color-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.block-color-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.block-color-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.block-color-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.block-color-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }\n.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }\n.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }\n.select-value-color-green { background-color: rgba(219, 237, 219, 1); }\n.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }\n.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }\n.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }\n.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }\n.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }\n.select-value-color-red { background-color: rgba(255, 226, 221, 1); }\n.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }\n.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }\n.select-value-color-pageGlass { background-color: undefined; }\n.select-value-color-washGlass { background-color: undefined; }\n\n.checkbox {\n	display: inline-flex;\n	vertical-align: text-bottom;\n	width: 16;\n	height: 16;\n	background-size: 16px;\n	margin-left: 2px;\n	margin-right: 5px;\n}\n\n.checkbox-on {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n\n.checkbox-off {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n	\n</style></head><body><article id=\"58e0090c-506c-4188-800e-e1e7c40a29e6\" class=\"page sans\"><header><div class=\"page-header-icon undefined\"><span class=\"icon\">💱</span></div><h1 class=\"page-title\">Bitcoin</h1><p class=\"page-description\"></p></header><div class=\"page-body\"><figure class=\"block-color-gray_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"c72dcd9c-9ab4-443d-813e-a9f7234aeeda\"><div style=\"font-size:1.5em\"><span class=\"icon\">💡</span></div><div style=\"width:100%\">Các thông tin phải biết:<ul id=\"9db1167d-c799-482e-90bb-d37baa4310f4\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Digital Signature ( chữ kí điện tử )</li></ul><ul id=\"7000586f-4432-4745-a02f-dfe958686239\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Ledger ( sổ cái )</li></ul><ul id=\"a9f46261-3f50-4546-a2f3-53cb20220af5\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Hàm hash</li></ul><ul id=\"0efad500-f693-4677-9c74-85dc541f2818\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Proof of work</li></ul></div></figure><h1 id=\"a30a1a26-5e67-454e-b789-827f2b0dc586\" class=\"\">Introduction</h1><div id=\"c3f57ca5-140c-4d62-bcd4-101088340298\" class=\"collection-content\"><h4 class=\"collection-title\">Reviewers</h4><table class=\"collection-content\"><thead><tr><th><span class=\"icon property-icon\"><svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" style=\"width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0\" class=\"typesTitle\"><path d=\"M0.637695 13.1914C1.0957 13.1914 1.32812 13 1.47852 12.5215L2.24414 10.3887H6.14746L6.90625 12.5215C7.05664 13 7.2959 13.1914 7.74707 13.1914C8.22559 13.1914 8.5332 12.9043 8.5332 12.4531C8.5332 12.2891 8.50586 12.1523 8.44434 11.9678L5.41602 3.79199C5.2041 3.21777 4.82129 2.9375 4.19922 2.9375C3.60449 2.9375 3.21484 3.21777 3.0166 3.78516L-0.0322266 12.002C-0.09375 12.1797 -0.121094 12.3232 -0.121094 12.4668C-0.121094 12.918 0.166016 13.1914 0.637695 13.1914ZM2.63379 9.12402L4.17871 4.68066H4.21973L5.76465 9.12402H2.63379ZM12.2793 13.2324C13.3115 13.2324 14.2891 12.6787 14.7129 11.8037H14.7402V12.5762C14.7471 12.9863 15.0273 13.2393 15.4238 13.2393C15.834 13.2393 16.1143 12.9795 16.1143 12.5215V8.00977C16.1143 6.49902 14.9658 5.52148 13.1543 5.52148C11.7666 5.52148 10.6592 6.08887 10.2695 6.99121C10.1943 7.15527 10.1533 7.3125 10.1533 7.46289C10.1533 7.81152 10.4062 8.04395 10.7686 8.04395C11.0215 8.04395 11.2129 7.94824 11.3496 7.73633C11.7529 6.99121 12.2861 6.65625 13.1064 6.65625C14.0977 6.65625 14.6992 7.20996 14.6992 8.1123V8.67285L12.5664 8.7959C10.7686 8.8916 9.77734 9.69824 9.77734 11.0107C9.77734 12.3369 10.8096 13.2324 12.2793 13.2324ZM12.6621 12.1387C11.8008 12.1387 11.2129 11.667 11.2129 10.9561C11.2129 10.2725 11.7598 9.82129 12.7578 9.75977L14.6992 9.62988V10.3203C14.6992 11.3457 13.7969 12.1387 12.6621 12.1387Z\"></path></svg></span>Review summary</th><th><span class=\"icon property-icon\"><svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" style=\"width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0\" class=\"typesStatus\"><path d=\"M8.75488 1.02344C8.75488 0.613281 8.41309 0.264648 8.00293 0.264648C7.59277 0.264648 7.25098 0.613281 7.25098 1.02344V3.11523C7.25098 3.51855 7.59277 3.86719 8.00293 3.86719C8.41309 3.86719 8.75488 3.51855 8.75488 3.11523V1.02344ZM3.91504 5.0293C4.20215 5.31641 4.69434 5.32324 4.97461 5.03613C5.26855 4.74902 5.26855 4.25684 4.98145 3.96973L3.53906 2.52051C3.25195 2.2334 2.7666 2.21973 2.47949 2.50684C2.19238 2.79395 2.18555 3.28613 2.47266 3.57324L3.91504 5.0293ZM10.9629 4.01758C10.6826 4.30469 10.6826 4.79688 10.9697 5.08398C11.2568 5.37109 11.749 5.36426 12.0361 5.07715L13.4854 3.62793C13.7725 3.34082 13.7725 2.84863 13.4785 2.55469C13.1982 2.27441 12.7061 2.27441 12.4189 2.56152L10.9629 4.01758ZM15.0234 8.78906C15.4336 8.78906 15.7822 8.44727 15.7822 8.03711C15.7822 7.62695 15.4336 7.28516 15.0234 7.28516H12.9385C12.5283 7.28516 12.1797 7.62695 12.1797 8.03711C12.1797 8.44727 12.5283 8.78906 12.9385 8.78906H15.0234ZM0.975586 7.28516C0.56543 7.28516 0.223633 7.62695 0.223633 8.03711C0.223633 8.44727 0.56543 8.78906 0.975586 8.78906H3.07422C3.48438 8.78906 3.83301 8.44727 3.83301 8.03711C3.83301 7.62695 3.48438 7.28516 3.07422 7.28516H0.975586ZM12.0361 10.9902C11.749 10.71 11.2568 10.71 10.9629 10.9971C10.6826 11.2842 10.6826 11.7764 10.9697 12.0635L12.4258 13.5127C12.7129 13.7998 13.2051 13.793 13.4922 13.5059C13.7793 13.2256 13.7725 12.7266 13.4854 12.4395L12.0361 10.9902ZM2.52051 12.4395C2.22656 12.7266 2.22656 13.2188 2.50684 13.5059C2.79395 13.793 3.28613 13.7998 3.57324 13.5127L5.02246 12.0703C5.31641 11.7832 5.31641 11.291 5.03613 11.0039C4.74902 10.7168 4.25684 10.71 3.96973 10.9971L2.52051 12.4395ZM8.75488 12.9658C8.75488 12.5557 8.41309 12.207 8.00293 12.207C7.59277 12.207 7.25098 12.5557 7.25098 12.9658V15.0576C7.25098 15.4609 7.59277 15.8096 8.00293 15.8096C8.41309 15.8096 8.75488 15.4609 8.75488 15.0576V12.9658Z\"></path></svg></span>Status</th><th><span class=\"icon property-icon\"><svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" style=\"width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0\" class=\"typesPerson\"><path d=\"M10.9536 7.90088C12.217 7.90088 13.2559 6.79468 13.2559 5.38525C13.2559 4.01514 12.2114 2.92017 10.9536 2.92017C9.70142 2.92017 8.65137 4.02637 8.65698 5.39087C8.6626 6.79468 9.69019 7.90088 10.9536 7.90088ZM4.4231 8.03003C5.52368 8.03003 6.42212 7.05859 6.42212 5.83447C6.42212 4.63843 5.51245 3.68945 4.4231 3.68945C3.33374 3.68945 2.41846 4.64966 2.41846 5.84009C2.42407 7.05859 3.32251 8.03003 4.4231 8.03003ZM1.37964 13.168H5.49561C4.87231 12.292 5.43384 10.6074 6.78711 9.51807C6.18628 9.14746 5.37769 8.87231 4.4231 8.87231C1.95239 8.87231 0.262207 10.6917 0.262207 12.1628C0.262207 12.7974 0.548584 13.168 1.37964 13.168ZM7.50024 13.168H14.407C15.4009 13.168 15.7322 12.8423 15.7322 12.2864C15.7322 10.8489 13.8679 8.88354 10.9536 8.88354C8.04492 8.88354 6.17505 10.8489 6.17505 12.2864C6.17505 12.8423 6.50635 13.168 7.50024 13.168Z\"></path></svg></span>Reviewer</th><th><span class=\"icon property-icon\"><svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" style=\"width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0\" class=\"typesCheckbox\"><path d=\"M3.85742 14.4561H12.1357C13.6123 14.4561 14.3779 13.6904 14.3779 12.2344V3.91504C14.3779 2.45215 13.6123 1.69336 12.1357 1.69336H3.85742C2.38086 1.69336 1.61523 2.45215 1.61523 3.91504V12.2344C1.61523 13.6973 2.38086 14.4561 3.85742 14.4561ZM3.93945 13.1162C3.30371 13.1162 2.95508 12.7812 2.95508 12.1182V4.02441C2.95508 3.36133 3.30371 3.0332 3.93945 3.0332H12.0537C12.6826 3.0332 13.0381 3.36133 13.0381 4.02441V12.1182C13.0381 12.7812 12.6826 13.1162 12.0537 13.1162H3.93945ZM7.26855 11.3115C7.51465 11.3115 7.72656 11.1885 7.87012 10.9697L10.9258 6.19141C11.0146 6.04785 11.0967 5.88379 11.0967 5.72656C11.0967 5.3916 10.7959 5.16602 10.4746 5.16602C10.2695 5.16602 10.085 5.27539 9.94141 5.50781L7.24121 9.8418L5.96973 8.22168C5.80566 8.00977 5.6416 7.93457 5.43652 7.93457C5.10156 7.93457 4.8418 8.20117 4.8418 8.54297C4.8418 8.70703 4.90332 8.85742 5.01953 9.00098L6.63281 10.9697C6.81738 11.209 7.01562 11.3115 7.26855 11.3115Z\"></path></svg></span>Required review</th></tr></thead><tbody><tr id=\"1f816e0f-c348-4455-b51a-dfd8733a836f\"><td class=\"cell-title\"><a href=\"https://www.notion.so/Ledger-1f816e0fc3484455b51adfd8733a836f?pvs=21\">Ledger</a></td><td class=\"cell-Ao{O\"><span class=\"status-value\"><div class=\"status-dot\"></div>Review requested</span></td><td class=\"cell-[K`e\"></td><td class=\"cell-CFH=\"><div class=\"checkbox checkbox-off\"></div></td></tr><tr id=\"087f1217-d1f2-4acf-a611-73c2c5b46ea6\"><td class=\"cell-title\"><a href=\"https://www.notion.so/Digital-Signatures-087f1217d1f24acfa61173c2c5b46ea6?pvs=21\">Digital Signatures</a></td><td class=\"cell-Ao{O\"><span class=\"status-value\"><div class=\"status-dot\"></div>Review requested</span></td><td class=\"cell-[K`e\"></td><td class=\"cell-CFH=\"><div class=\"checkbox checkbox-off\"></div></td></tr><tr id=\"16db527b-a5e4-4c08-8ff5-ef2e9fb47e0a\"><td class=\"cell-title\"><a href=\"https://www.notion.so/Hash-function-16db527ba5e44c088ff5ef2e9fb47e0a?pvs=21\">Hash function</a></td><td class=\"cell-Ao{O\"><span class=\"status-value\"><div class=\"status-dot\"></div>Review requested</span></td><td class=\"cell-[K`e\"></td><td class=\"cell-CFH=\"><div class=\"checkbox checkbox-off\"></div></td></tr><tr id=\"5b73a410-4691-480a-a8b7-f6994d985364\"><td class=\"cell-title\"><a href=\"https://www.notion.so/Proof-of-work-5b73a4104691480aa8b7f6994d985364?pvs=21\">Proof of work</a></td><td class=\"cell-Ao{O\"><span class=\"status-value\"><div class=\"status-dot\"></div>Review requested</span></td><td class=\"cell-[K`e\"></td><td class=\"cell-CFH=\"><div class=\"checkbox checkbox-off\"></div></td></tr></tbody></table><br/><br/></div><p id=\"ac923845-325e-42e1-9909-7f58d39884cf\" class=\"\">\n</p></div></article><span class=\"sans\" style=\"font-size:14px;padding-top:2em\"></span></body></html>', 'images/image_6.jpg', '2024-06-02 20:59:03', 1, NULL);
INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(8, 1, 'Kubernetes', 'Engineer', 'Kubernetes', '<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/><title>Kubernetes</title><style>\n/* cspell:disable-file */\n/* webkit printing magic: print all background colors */\nhtml {\n	-webkit-print-color-adjust: exact;\n}\n* {\n	box-sizing: border-box;\n	-webkit-print-color-adjust: exact;\n}\n\nhtml,\nbody {\n	margin: 0;\n	padding: 0;\n}\n@media only screen {\n	body {\n		margin: 2em auto;\n		max-width: 900px;\n		color: rgb(55, 53, 47);\n	}\n}\n\nbody {\n	line-height: 1.5;\n	white-space: pre-wrap;\n}\n\na,\na.visited {\n	color: inherit;\n	text-decoration: underline;\n}\n\n.pdf-relative-link-path {\n	font-size: 80%;\n	color: #444;\n}\n\nh1,\nh2,\nh3 {\n	letter-spacing: -0.01em;\n	line-height: 1.2;\n	font-weight: 600;\n	margin-bottom: 0;\n}\n\n.page-title {\n	font-size: 2.5rem;\n	font-weight: 700;\n	margin-top: 0;\n	margin-bottom: 0.75em;\n}\n\nh1 {\n	font-size: 1.875rem;\n	margin-top: 1.875rem;\n}\n\nh2 {\n	font-size: 1.5rem;\n	margin-top: 1.5rem;\n}\n\nh3 {\n	font-size: 1.25rem;\n	margin-top: 1.25rem;\n}\n\n.source {\n	border: 1px solid #ddd;\n	border-radius: 3px;\n	padding: 1.5em;\n	word-break: break-all;\n}\n\n.callout {\n	border-radius: 3px;\n	padding: 1rem;\n}\n\nfigure {\n	margin: 1.25em 0;\n	page-break-inside: avoid;\n}\n\nfigcaption {\n	opacity: 0.5;\n	font-size: 85%;\n	margin-top: 0.5em;\n}\n\nmark {\n	background-color: transparent;\n}\n\n.indented {\n	padding-left: 1.5em;\n}\n\nhr {\n	background: transparent;\n	display: block;\n	width: 100%;\n	height: 1px;\n	visibility: visible;\n	border: none;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.09);\n}\n\nimg {\n	max-width: 100%;\n}\n\n@media only print {\n	img {\n		max-height: 100vh;\n		object-fit: contain;\n	}\n}\n\n@page {\n	margin: 1in;\n}\n\n.collection-content {\n	font-size: 0.875rem;\n}\n\n.column-list {\n	display: flex;\n	justify-content: space-between;\n}\n\n.column {\n	padding: 0 1em;\n}\n\n.column:first-child {\n	padding-left: 0;\n}\n\n.column:last-child {\n	padding-right: 0;\n}\n\n.table_of_contents-item {\n	display: block;\n	font-size: 0.875rem;\n	line-height: 1.3;\n	padding: 0.125rem;\n}\n\n.table_of_contents-indent-1 {\n	margin-left: 1.5rem;\n}\n\n.table_of_contents-indent-2 {\n	margin-left: 3rem;\n}\n\n.table_of_contents-indent-3 {\n	margin-left: 4.5rem;\n}\n\n.table_of_contents-link {\n	text-decoration: none;\n	opacity: 0.7;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.18);\n}\n\ntable,\nth,\ntd {\n	border: 1px solid rgba(55, 53, 47, 0.09);\n	border-collapse: collapse;\n}\n\ntable {\n	border-left: none;\n	border-right: none;\n}\n\nth,\ntd {\n	font-weight: normal;\n	padding: 0.25em 0.5em;\n	line-height: 1.5;\n	min-height: 1.5em;\n	text-align: left;\n}\n\nth {\n	color: rgba(55, 53, 47, 0.6);\n}\n\nol,\nul {\n	margin: 0;\n	margin-block-start: 0.6em;\n	margin-block-end: 0.6em;\n}\n\nli > ol:first-child,\nli > ul:first-child {\n	margin-block-start: 0.6em;\n}\n\nul > li {\n	list-style: disc;\n}\n\nul.to-do-list {\n	padding-inline-start: 0;\n}\n\nul.to-do-list > li {\n	list-style: none;\n}\n\n.to-do-children-checked {\n	text-decoration: line-through;\n	opacity: 0.375;\n}\n\nul.toggle > li {\n	list-style: none;\n}\n\nul {\n	padding-inline-start: 1.7em;\n}\n\nul > li {\n	padding-left: 0.1em;\n}\n\nol {\n	padding-inline-start: 1.6em;\n}\n\nol > li {\n	padding-left: 0.2em;\n}\n\n.mono ol {\n	padding-inline-start: 2em;\n}\n\n.mono ol > li {\n	text-indent: -0.4em;\n}\n\n.toggle {\n	padding-inline-start: 0em;\n	list-style-type: none;\n}\n\n/* Indent toggle children */\n.toggle > li > details {\n	padding-left: 1.7em;\n}\n\n.toggle > li > details > summary {\n	margin-left: -1.1em;\n}\n\n.selected-value {\n	display: inline-block;\n	padding: 0 0.5em;\n	background: rgba(206, 205, 202, 0.5);\n	border-radius: 3px;\n	margin-right: 0.5em;\n	margin-top: 0.3em;\n	margin-bottom: 0.3em;\n	white-space: nowrap;\n}\n\n.collection-title {\n	display: inline-block;\n	margin-right: 1em;\n}\n\n.page-description {\n    margin-bottom: 2em;\n}\n\n.simple-table {\n	margin-top: 1em;\n	font-size: 0.875rem;\n	empty-cells: show;\n}\n.simple-table td {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table th {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table-header-color {\n	background: rgb(247, 246, 243);\n	color: black;\n}\n.simple-table-header {\n	font-weight: 500;\n}\n\ntime {\n	opacity: 0.5;\n}\n\n.icon {\n	display: inline-block;\n	max-width: 1.2em;\n	max-height: 1.2em;\n	text-decoration: none;\n	vertical-align: text-bottom;\n	margin-right: 0.5em;\n}\n\nimg.icon {\n	border-radius: 3px;\n}\n\n.user-icon {\n	width: 1.5em;\n	height: 1.5em;\n	border-radius: 100%;\n	margin-right: 0.5rem;\n}\n\n.user-icon-inner {\n	font-size: 0.8em;\n}\n\n.text-icon {\n	border: 1px solid #000;\n	text-align: center;\n}\n\n.page-cover-image {\n	display: block;\n	object-fit: cover;\n	width: 100%;\n	max-height: 30vh;\n}\n\n.page-header-icon {\n	font-size: 3rem;\n	margin-bottom: 1rem;\n}\n\n.page-header-icon-with-cover {\n	margin-top: -0.72em;\n	margin-left: 0.07em;\n}\n\n.page-header-icon img {\n	border-radius: 3px;\n}\n\n.link-to-page {\n	margin: 1em 0;\n	padding: 0;\n	border: none;\n	font-weight: 500;\n}\n\np > .user {\n	opacity: 0.5;\n}\n\ntd > .user,\ntd > time {\n	white-space: nowrap;\n}\n\ninput[type=\"checkbox\"] {\n	transform: scale(1.5);\n	margin-right: 0.6em;\n	vertical-align: middle;\n}\n\np {\n	margin-top: 0.5em;\n	margin-bottom: 0.5em;\n}\n\n.image {\n	border: none;\n	margin: 1.5em 0;\n	padding: 0;\n	border-radius: 0;\n	text-align: center;\n}\n\n.code,\ncode {\n	background: rgba(135, 131, 120, 0.15);\n	border-radius: 3px;\n	padding: 0.2em 0.4em;\n	border-radius: 3px;\n	font-size: 85%;\n	tab-size: 2;\n}\n\ncode {\n	color: #eb5757;\n}\n\n.code {\n	padding: 1.5em 1em;\n}\n\n.code-wrap {\n	white-space: pre-wrap;\n	word-break: break-all;\n}\n\n.code > code {\n	background: none;\n	padding: 0;\n	font-size: 100%;\n	color: inherit;\n}\n\nblockquote {\n	font-size: 1.25em;\n	margin: 1em 0;\n	padding-left: 1em;\n	border-left: 3px solid rgb(55, 53, 47);\n}\n\n.bookmark {\n	text-decoration: none;\n	max-height: 8em;\n	padding: 0;\n	display: flex;\n	width: 100%;\n	align-items: stretch;\n}\n\n.bookmark-title {\n	font-size: 0.85em;\n	overflow: hidden;\n	text-overflow: ellipsis;\n	height: 1.75em;\n	white-space: nowrap;\n}\n\n.bookmark-text {\n	display: flex;\n	flex-direction: column;\n}\n\n.bookmark-info {\n	flex: 4 1 180px;\n	padding: 12px 14px 14px;\n	display: flex;\n	flex-direction: column;\n	justify-content: space-between;\n}\n\n.bookmark-image {\n	width: 33%;\n	flex: 1 1 180px;\n	display: block;\n	position: relative;\n	object-fit: cover;\n	border-radius: 1px;\n}\n\n.bookmark-description {\n	color: rgba(55, 53, 47, 0.6);\n	font-size: 0.75em;\n	overflow: hidden;\n	max-height: 4.5em;\n	word-break: break-word;\n}\n\n.bookmark-href {\n	font-size: 0.75em;\n	margin-top: 0.25em;\n}\n\n.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"; }\n.code { font-family: \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace; }\n.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }\n.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }\n.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK JP\'; }\n.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK SC\'; }\n.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK TC\'; }\n.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK KR\'; }\n.pdf .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK JP\'; }\n.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK SC\'; }\n.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK TC\'; }\n.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK KR\'; }\n.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.highlight-default {\n	color: rgba(55, 53, 47, 1);\n}\n.highlight-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.highlight-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.highlight-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.highlight-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.highlight-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.highlight-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.highlight-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.highlight-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.highlight-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.highlight-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.highlight-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.highlight-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.highlight-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.highlight-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.highlight-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.highlight-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.highlight-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.highlight-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.block-color-default {\n	color: inherit;\n	fill: inherit;\n}\n.block-color-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.block-color-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.block-color-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.block-color-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.block-color-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.block-color-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.block-color-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.block-color-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.block-color-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.block-color-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.block-color-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.block-color-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.block-color-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.block-color-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.block-color-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.block-color-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.block-color-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.block-color-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }\n.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }\n.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }\n.select-value-color-green { background-color: rgba(219, 237, 219, 1); }\n.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }\n.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }\n.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }\n.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }\n.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }\n.select-value-color-red { background-color: rgba(255, 226, 221, 1); }\n.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }\n.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }\n.select-value-color-pageGlass { background-color: undefined; }\n.select-value-color-washGlass { background-color: undefined; }\n\n.checkbox {\n	display: inline-flex;\n	vertical-align: text-bottom;\n	width: 16;\n	height: 16;\n	background-size: 16px;\n	margin-left: 2px;\n	margin-right: 5px;\n}\n\n.checkbox-on {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n\n.checkbox-off {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n	\n</style></head><body><article id=\"ead064ca-2f3a-4db4-bb75-aa98b6020059\" class=\"page sans\"><header><div class=\"page-header-icon undefined\"><span class=\"icon\">🌀</span></div><h1 class=\"page-title\">Kubernetes</h1><p class=\"page-description\"></p></header><div class=\"page-body\"><figure class=\"block-color-gray_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"8bef9fc1-e169-4281-a0f7-992bcafe9c9b\"><div style=\"font-size:1.5em\"><span class=\"icon\">💡</span></div><div style=\"width:100%\">Là 1 orchestration technologies (hiện tại có Docker Swarm, Kubernetes from Google, MESOS from Apache. K8S của AWS).</div></figure><h3 id=\"ba2683c7-452d-445e-8650-23f92b4a7d5e\" class=\"\">1. Container orchestration</h3><ul id=\"e47ef5b3-0909-414d-be4f-0d3ec165df1a\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Dùng để scale up hoặc down based on the load.</li></ul><ul id=\"099a1dd5-79c9-4847-afb5-358e00c04040\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Dùng để liên kết giữa các container.</li></ul><h3 id=\"404c5236-dace-42bd-92b5-37aae0f380b5\" class=\"\">2. Kubernetes architecture</h3><figure id=\"e55e84b0-4e64-4d1d-afec-c04fa5fb2857\" class=\"image\"><a href=\"/images/notion/kubernetes/Untitled.png\"><img style=\"width:1101px\" src=\"/images/notion/kubernetes/Untitled.png\"/></a></figure><ul id=\"28d5e588-9218-4e56-8149-a1fb76a1450f\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Node là machine, có thể physical or virtual để cài đặt Kubernetes.<ul id=\"5c835628-0c3b-4b81-bd13-7325483081ce\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Master là 1 node để quản lý các node còn lại.<ul id=\"0f7de89b-14a3-4edc-b884-6c97b5d9f581\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Có kube-apiserver (để liên lạc với worker qua api)</li></ul><ul id=\"645b15f8-36d5-4471-9456-e261f4ee9ae8\" class=\"bulleted-list\"><li style=\"list-style-type:square\">etcd (key value store)</li></ul><ul id=\"e564dfa5-35be-4ac4-8192-2980470cc340\" class=\"bulleted-list\"><li style=\"list-style-type:square\">controller (khi mà có node down thì quyết định xem có bổ sung hay không)</li></ul><ul id=\"ddee72ec-556a-4e32-a3c4-bbd29d5782b2\" class=\"bulleted-list\"><li style=\"list-style-type:square\">scheduler (nhiệm vụ để phân phối các worker hoặc container, khi có 1 container tạo ra thì nó sẽ assign vào node)</li></ul><ul id=\"719d2a63-4b82-4b91-8857-bdae909a647d\" class=\"bulleted-list\"><li style=\"list-style-type:square\">kubelet (chạy trên các node đảm bảo container chạy trên đúng node)</li></ul></li></ul><ul id=\"ad65e67e-79e8-4d86-9195-202038edaabe\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Worker<ul id=\"a80e6f2a-e0b2-4a3b-b260-c496e45264c9\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Có kubelet</li></ul><ul id=\"b62328d3-b22c-48be-a69a-0a3abf98b3bc\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Có container runtime (ví dụ như docker)</li></ul></li></ul></li></ul><ul id=\"e35e1a71-b4bf-4eb0-a7b1-366c7e51b294\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cluster là tập hợp các nodes.</li></ul><h3 id=\"876c3ac2-0bb9-49ce-b7d7-ee45588e3aca\" class=\"\">3. Kubernetes concept</h3><ul id=\"8f6f6408-4664-4557-a7a7-166da876a631\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">POD<ul id=\"ef65dbfc-3394-4e95-af7c-d716f6b37050\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Kubernetes không deploy trực tiếp container trên worker nodes, container được gói lại trong pod.</li></ul><ul id=\"6acd1a23-593b-4f80-92f6-2808d7d2608f\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Để chạy 1 pod</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"7af71169-76ab-4968-bacc-07fa36118b61\" class=\"code\"><code class=\"language-JavaScript\">kubectl run nginx --image=nginx</code></pre></li></ul><h3 id=\"1283b6d6-e963-4544-a250-2ddd578e4821\" class=\"\">4. POD with yaml</h3><ul id=\"999a0287-5e8c-4e73-b9f7-300001617995\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">pod-definition.yml: định nghĩ khởi tạo pod</li></ul><ul id=\"1ba69a4d-7adc-47b8-82d1-e0a6d3338354\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để chạy pod dùng lệnh </li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"de3a55f6-c5df-42c8-a1bd-256b1b24cc4a\" class=\"code\"><code class=\"language-JavaScript\">kubectl create -f pod-definition.yml\nkubetctl get pods </code></pre><h3 id=\"e56cd688-ed84-453d-bda8-202c2caa1ce6\" class=\"\">5. Các lệnh của kubectl</h3><ul id=\"016f16a4-509f-4d11-a60a-5f343e49f8f8\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">kubectl get pods</li></ul><ul id=\"f30126a4-ffa2-48e5-b6f0-08d065f9e844\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để xem nội dung bên trong 1 pod</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"a73c6d94-5f10-42b0-a7cd-3d5586f3a003\" class=\"code\"><code class=\"language-JavaScript\">kubectl describe pod [pod-name]</code></pre><ul id=\"8675d85c-152f-4201-a6e7-327f6e855e75\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để xóa pod</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"759958e2-1a19-4abd-b1c0-a3e0cd78c212\" class=\"code\"><code class=\"language-JavaScript\">kubectl delete pod [pod-name]\n\nkubectl delete pod --all</code></pre><ul id=\"5acc9562-03d2-402d-81f2-bec957311d11\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để chạy pod và đồng thời khởi tạo file .yaml</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"bd136f49-5565-487c-8483-b423d7fe57b8\" class=\"code\"><code class=\"language-JavaScript\">kubectl run redis --image=redis --dry-run -o yaml</code></pre><ul id=\"f8ea2de7-a439-4a43-801b-4863afab79b0\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để update sau khi sửa file .yaml: </li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"bfb7c87e-773b-47dd-80f0-dd57c5119e68\" class=\"code\"><code class=\"language-JavaScript\">kubectl apply -f redis-definition.yaml</code></pre><p id=\"8da03f9a-73d0-4c5f-beee-df85fba67818\" class=\"\">\n</p><h3 id=\"269f43a5-e20f-4ffa-b518-997fee2a433f\" class=\"\">6. Container orchestration</h3><ul id=\"8e6996ef-5d39-40db-aded-226ec22980fc\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Labels and Selectors:<ul id=\"24452d28-0e68-41c9-8c60-adccef8f9236\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Ví dụ khi muốn đảm bảo có 3 pod luôn hoạt động, thì replica dựa vào label để thực hiện.</li></ul></li></ul><ul id=\"04c32632-fde0-4c8a-a124-550cc468ffd3\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để thực hiện replica<script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"7a24ac2a-4db4-4fce-9f79-aa825a87b270\" class=\"code\"><code class=\"language-JavaScript\">kubectl create -f replicaset-definition.yml\nkubectl get replicaset\nkubectl delete replicaset [name_replicas]\nkubectl edit replicaset [name_replicas]\nkubectl replace -f replicaset-definition.yml\nkubectl scale --replicas=6 -f replicaset-definition.yml</code></pre></li></ul><h3 id=\"6d5c115f-1d0a-4509-8725-0d6adadaff57\" class=\"\">7. Deployment</h3><ul id=\"e961bdf5-03e0-44d0-b966-a151b93a103e\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để kiểm tra deployment: kubectl describe deployment</li></ul><ul id=\"322b499a-9fff-4c65-b369-fa3016004c12\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Example:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"68d40425-ef05-47c2-877b-a94c7982bfb5\" class=\"code\"><code class=\"language-JavaScript\">apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\n  labels:\n    app: mywebsite\n    tier: frontend\nspec:\n  replicas: 4\n  template:\n    metadata:\n      name: myapp-pod\n      labels:\n        app: myapp\n    spec:\n      containers:\n        - name: nginx\n          image: nginx\n  selector:\n    matchLabels: \n      app: myapp</code></pre><ul id=\"24ccdf97-940c-489e-9fcf-38ae220ec585\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Chế độ mặc định của deployment của k8s là rolling update, tức là từng pod một bị destroy và thay bằng pod mới với version mới.</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"d3625d88-326c-438f-93f6-52d3f48ea636\" class=\"code\"><code class=\"language-JavaScript\">kubectl apply -f deployment.yml</code></pre><ul id=\"25868e8e-25c8-4d11-a3b2-f375d5bb04ff\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">k8s tạo ra 1 replica set mới, kill từng pod ở replica cũ và tạo từng pod ở replica mới</li></ul><ul id=\"f7b8a1cb-b2fb-4328-b4df-f1663779dea8\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để roll back:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"b1f53214-4159-43b8-9988-075540ada29f\" class=\"code\"><code class=\"language-JavaScript\">kubectl rollout undo depoyment/myapp-deployment</code></pre><figure class=\"block-color-red_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"2d24f76c-2ec4-422c-8fb7-c79196c2897a\"><div style=\"font-size:1.5em\"><span class=\"icon\">📌</span></div><div style=\"width:100%\"><strong>SUMMARY: </strong>Advertisers use propaganda to sell products, and use 4 different techniques to do so.</div></figure><h3 id=\"7a108b56-00b5-431d-8691-714b996b51d8\" class=\"\">7. Networking</h3><h3 id=\"06ebd520-1c18-4bbd-9f9e-f18f5f9de29a\" class=\"\">8. Service:</h3><ul id=\"48963db8-b2e4-4455-9fc6-26388daf47bf\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Service để các components có thể communicate với nhau</li></ul><ul id=\"a9b275b5-eee3-4b8c-98d4-fa1cb3fd37f4\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Có 3 loại service <ul id=\"712a1ec7-fe82-49b7-b920-dabac7308317\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">NodePort</li></ul><ul id=\"213a75b4-04a9-445b-ada7-db2dc86b59b1\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">ClusterIP</li></ul><ul id=\"27560f83-3aa3-4a07-8d7a-e1524838c464\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">LoadBalancer</li></ul></li></ul><ul id=\"766d0e32-94ca-46c9-830a-32ed596339f3\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Service như là 1 cái máy ảo ở trong node, ở trong cluster, và nó có own IP, IP đấy gọi là cluster IP of service</li></ul><ul id=\"4d7acab0-2987-4f6e-872a-99d7d5acbd04\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Node cũng có port riêng (30000-32767)</li></ul><figure id=\"d212684f-5573-476b-946d-1bc83233e235\" class=\"image\"><a href=\"/images/notion/kubernetes/Untitled%201.png\"><img style=\"width:1332px\" src=\"/images/notion/kubernetes/Untitled%201.png\"/></a></figure><ul id=\"85a82074-bc50-4aec-8e9b-96e8051cb3e2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để có thể chỉ ra target port nối với pod nào<p id=\"a87dfa84-d5be-4f86-90ce-161578226afb\" class=\"\">⇒ ta dùng lables ở pod-definition.yml cho vào selector của service-definition.yml</p></li></ul><ul id=\"d9432508-e76a-44e3-bf55-1e3a7bc1dc18\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Với case  trong 1 node có nhiều port thì cũng dựa vào label:</li></ul><figure id=\"c1cd6854-5258-4040-a576-744f8c57cf56\" class=\"image\"><a href=\"/images/notion/kubernetes/Untitled%202.png\"><img style=\"width:1345px\" src=\"/images/notion/kubernetes/Untitled%202.png\"/></a></figure><ul id=\"f8ba04a2-53d6-4d5e-9f26-a297dcc30dce\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Tạo file</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"59105230-71a3-4de1-a72a-69b744506463\" class=\"code\"><code class=\"language-JavaScript\">kubectl create -f service-definition.yaml\nkubectl get svc</code></pre><ul id=\"14e34a2a-cee5-4933-9e55-74291bc316c8\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Load balancer:<ul id=\"1d0cab68-17fd-4219-bad6-7d3acf03d76d\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Google cloud platform hỗ trợ với type = LoadbBalancer</li></ul><p id=\"5578c08b-141b-4cff-85e6-2ab4aa85e48d\" class=\"\">\n</p></li></ul></div></article><span class=\"sans\" style=\"font-size:14px;padding-top:2em\"></span></body></html>', 'images/image_7.jpg', '2024-06-02 21:00:50', 1, NULL);
INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(9, 1, 'Gitlab', 'Engineer', 'Gitlab', '<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/><title>Gitlab</title><style>\n/* cspell:disable-file */\n/* webkit printing magic: print all background colors */\nhtml {\n	-webkit-print-color-adjust: exact;\n}\n* {\n	box-sizing: border-box;\n	-webkit-print-color-adjust: exact;\n}\n\nhtml,\nbody {\n	margin: 0;\n	padding: 0;\n}\n@media only screen {\n	body {\n		margin: 2em auto;\n		max-width: 900px;\n		color: rgb(55, 53, 47);\n	}\n}\n\nbody {\n	line-height: 1.5;\n	white-space: pre-wrap;\n}\n\na,\na.visited {\n	color: inherit;\n	text-decoration: underline;\n}\n\n.pdf-relative-link-path {\n	font-size: 80%;\n	color: #444;\n}\n\nh1,\nh2,\nh3 {\n	letter-spacing: -0.01em;\n	line-height: 1.2;\n	font-weight: 600;\n	margin-bottom: 0;\n}\n\n.page-title {\n	font-size: 2.5rem;\n	font-weight: 700;\n	margin-top: 0;\n	margin-bottom: 0.75em;\n}\n\nh1 {\n	font-size: 1.875rem;\n	margin-top: 1.875rem;\n}\n\nh2 {\n	font-size: 1.5rem;\n	margin-top: 1.5rem;\n}\n\nh3 {\n	font-size: 1.25rem;\n	margin-top: 1.25rem;\n}\n\n.source {\n	border: 1px solid #ddd;\n	border-radius: 3px;\n	padding: 1.5em;\n	word-break: break-all;\n}\n\n.callout {\n	border-radius: 3px;\n	padding: 1rem;\n}\n\nfigure {\n	margin: 1.25em 0;\n	page-break-inside: avoid;\n}\n\nfigcaption {\n	opacity: 0.5;\n	font-size: 85%;\n	margin-top: 0.5em;\n}\n\nmark {\n	background-color: transparent;\n}\n\n.indented {\n	padding-left: 1.5em;\n}\n\nhr {\n	background: transparent;\n	display: block;\n	width: 100%;\n	height: 1px;\n	visibility: visible;\n	border: none;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.09);\n}\n\nimg {\n	max-width: 100%;\n}\n\n@media only print {\n	img {\n		max-height: 100vh;\n		object-fit: contain;\n	}\n}\n\n@page {\n	margin: 1in;\n}\n\n.collection-content {\n	font-size: 0.875rem;\n}\n\n.column-list {\n	display: flex;\n	justify-content: space-between;\n}\n\n.column {\n	padding: 0 1em;\n}\n\n.column:first-child {\n	padding-left: 0;\n}\n\n.column:last-child {\n	padding-right: 0;\n}\n\n.table_of_contents-item {\n	display: block;\n	font-size: 0.875rem;\n	line-height: 1.3;\n	padding: 0.125rem;\n}\n\n.table_of_contents-indent-1 {\n	margin-left: 1.5rem;\n}\n\n.table_of_contents-indent-2 {\n	margin-left: 3rem;\n}\n\n.table_of_contents-indent-3 {\n	margin-left: 4.5rem;\n}\n\n.table_of_contents-link {\n	text-decoration: none;\n	opacity: 0.7;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.18);\n}\n\ntable,\nth,\ntd {\n	border: 1px solid rgba(55, 53, 47, 0.09);\n	border-collapse: collapse;\n}\n\ntable {\n	border-left: none;\n	border-right: none;\n}\n\nth,\ntd {\n	font-weight: normal;\n	padding: 0.25em 0.5em;\n	line-height: 1.5;\n	min-height: 1.5em;\n	text-align: left;\n}\n\nth {\n	color: rgba(55, 53, 47, 0.6);\n}\n\nol,\nul {\n	margin: 0;\n	margin-block-start: 0.6em;\n	margin-block-end: 0.6em;\n}\n\nli > ol:first-child,\nli > ul:first-child {\n	margin-block-start: 0.6em;\n}\n\nul > li {\n	list-style: disc;\n}\n\nul.to-do-list {\n	padding-inline-start: 0;\n}\n\nul.to-do-list > li {\n	list-style: none;\n}\n\n.to-do-children-checked {\n	text-decoration: line-through;\n	opacity: 0.375;\n}\n\nul.toggle > li {\n	list-style: none;\n}\n\nul {\n	padding-inline-start: 1.7em;\n}\n\nul > li {\n	padding-left: 0.1em;\n}\n\nol {\n	padding-inline-start: 1.6em;\n}\n\nol > li {\n	padding-left: 0.2em;\n}\n\n.mono ol {\n	padding-inline-start: 2em;\n}\n\n.mono ol > li {\n	text-indent: -0.4em;\n}\n\n.toggle {\n	padding-inline-start: 0em;\n	list-style-type: none;\n}\n\n/* Indent toggle children */\n.toggle > li > details {\n	padding-left: 1.7em;\n}\n\n.toggle > li > details > summary {\n	margin-left: -1.1em;\n}\n\n.selected-value {\n	display: inline-block;\n	padding: 0 0.5em;\n	background: rgba(206, 205, 202, 0.5);\n	border-radius: 3px;\n	margin-right: 0.5em;\n	margin-top: 0.3em;\n	margin-bottom: 0.3em;\n	white-space: nowrap;\n}\n\n.collection-title {\n	display: inline-block;\n	margin-right: 1em;\n}\n\n.page-description {\n    margin-bottom: 2em;\n}\n\n.simple-table {\n	margin-top: 1em;\n	font-size: 0.875rem;\n	empty-cells: show;\n}\n.simple-table td {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table th {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table-header-color {\n	background: rgb(247, 246, 243);\n	color: black;\n}\n.simple-table-header {\n	font-weight: 500;\n}\n\ntime {\n	opacity: 0.5;\n}\n\n.icon {\n	display: inline-block;\n	max-width: 1.2em;\n	max-height: 1.2em;\n	text-decoration: none;\n	vertical-align: text-bottom;\n	margin-right: 0.5em;\n}\n\nimg.icon {\n	border-radius: 3px;\n}\n\n.user-icon {\n	width: 1.5em;\n	height: 1.5em;\n	border-radius: 100%;\n	margin-right: 0.5rem;\n}\n\n.user-icon-inner {\n	font-size: 0.8em;\n}\n\n.text-icon {\n	border: 1px solid #000;\n	text-align: center;\n}\n\n.page-cover-image {\n	display: block;\n	object-fit: cover;\n	width: 100%;\n	max-height: 30vh;\n}\n\n.page-header-icon {\n	font-size: 3rem;\n	margin-bottom: 1rem;\n}\n\n.page-header-icon-with-cover {\n	margin-top: -0.72em;\n	margin-left: 0.07em;\n}\n\n.page-header-icon img {\n	border-radius: 3px;\n}\n\n.link-to-page {\n	margin: 1em 0;\n	padding: 0;\n	border: none;\n	font-weight: 500;\n}\n\np > .user {\n	opacity: 0.5;\n}\n\ntd > .user,\ntd > time {\n	white-space: nowrap;\n}\n\ninput[type=\"checkbox\"] {\n	transform: scale(1.5);\n	margin-right: 0.6em;\n	vertical-align: middle;\n}\n\np {\n	margin-top: 0.5em;\n	margin-bottom: 0.5em;\n}\n\n.image {\n	border: none;\n	margin: 1.5em 0;\n	padding: 0;\n	border-radius: 0;\n	text-align: center;\n}\n\n.code,\ncode {\n	background: rgba(135, 131, 120, 0.15);\n	border-radius: 3px;\n	padding: 0.2em 0.4em;\n	border-radius: 3px;\n	font-size: 85%;\n	tab-size: 2;\n}\n\ncode {\n	color: #eb5757;\n}\n\n.code {\n	padding: 1.5em 1em;\n}\n\n.code-wrap {\n	white-space: pre-wrap;\n	word-break: break-all;\n}\n\n.code > code {\n	background: none;\n	padding: 0;\n	font-size: 100%;\n	color: inherit;\n}\n\nblockquote {\n	font-size: 1.25em;\n	margin: 1em 0;\n	padding-left: 1em;\n	border-left: 3px solid rgb(55, 53, 47);\n}\n\n.bookmark {\n	text-decoration: none;\n	max-height: 8em;\n	padding: 0;\n	display: flex;\n	width: 100%;\n	align-items: stretch;\n}\n\n.bookmark-title {\n	font-size: 0.85em;\n	overflow: hidden;\n	text-overflow: ellipsis;\n	height: 1.75em;\n	white-space: nowrap;\n}\n\n.bookmark-text {\n	display: flex;\n	flex-direction: column;\n}\n\n.bookmark-info {\n	flex: 4 1 180px;\n	padding: 12px 14px 14px;\n	display: flex;\n	flex-direction: column;\n	justify-content: space-between;\n}\n\n.bookmark-image {\n	width: 33%;\n	flex: 1 1 180px;\n	display: block;\n	position: relative;\n	object-fit: cover;\n	border-radius: 1px;\n}\n\n.bookmark-description {\n	color: rgba(55, 53, 47, 0.6);\n	font-size: 0.75em;\n	overflow: hidden;\n	max-height: 4.5em;\n	word-break: break-word;\n}\n\n.bookmark-href {\n	font-size: 0.75em;\n	margin-top: 0.25em;\n}\n\n.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"; }\n.code { font-family: \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace; }\n.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }\n.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }\n.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK JP\'; }\n.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK SC\'; }\n.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK TC\'; }\n.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK KR\'; }\n.pdf .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK JP\'; }\n.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK SC\'; }\n.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK TC\'; }\n.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK KR\'; }\n.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.highlight-default {\n	color: rgba(55, 53, 47, 1);\n}\n.highlight-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.highlight-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.highlight-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.highlight-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.highlight-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.highlight-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.highlight-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.highlight-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.highlight-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.highlight-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.highlight-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.highlight-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.highlight-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.highlight-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.highlight-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.highlight-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.highlight-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.highlight-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.block-color-default {\n	color: inherit;\n	fill: inherit;\n}\n.block-color-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.block-color-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.block-color-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.block-color-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.block-color-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.block-color-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.block-color-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.block-color-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.block-color-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.block-color-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.block-color-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.block-color-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.block-color-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.block-color-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.block-color-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.block-color-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.block-color-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.block-color-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }\n.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }\n.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }\n.select-value-color-green { background-color: rgba(219, 237, 219, 1); }\n.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }\n.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }\n.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }\n.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }\n.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }\n.select-value-color-red { background-color: rgba(255, 226, 221, 1); }\n.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }\n.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }\n.select-value-color-pageGlass { background-color: undefined; }\n.select-value-color-washGlass { background-color: undefined; }\n\n.checkbox {\n	display: inline-flex;\n	vertical-align: text-bottom;\n	width: 16;\n	height: 16;\n	background-size: 16px;\n	margin-left: 2px;\n	margin-right: 5px;\n}\n\n.checkbox-on {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n\n.checkbox-off {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n	\n</style></head><body><article id=\"3c629ec2-0d38-438f-bee2-ba18bda71ef2\" class=\"page sans\"><header><div class=\"page-header-icon undefined\"><span class=\"icon\">🦊</span></div><h1 class=\"page-title\">Gitlab</h1><p class=\"page-description\"></p></header><div class=\"page-body\"><figure class=\"block-color-gray_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"95db3cdc-d0d2-40c5-a420-f8a0d64d5c34\"><div style=\"font-size:1.5em\"><span class=\"icon\">💡</span></div><div style=\"width:100%\">Là hệ thống mã nguồn mở dựa trên máy chủ Git để quản lý mã nguồn của bạn</div></figure><p id=\"0a097a3c-05a6-4bc1-9470-dc298e925fa3\" class=\"\">\n</p><h3 id=\"954b5a66-16cf-4284-a994-5765fc9c98c2\" class=\"\">.gitlab-ci.yaml</h3><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"2b401a88-09df-443c-b1b3-23382ed9da81\" class=\"code\"><code class=\"language-Plain Text\" style=\"white-space:pre-wrap;word-break:break-all\">stages:  =&gt; thứ tự chạy                       \n  - build\n  - test\nbuild:\n  stage: build\n  script:\n    - echo &quot;Building&quot;\n    - mkdir build\n    - touch build/info.txt\n  artifacts:    =&gt; Đẩy ra 1 thư mục chung cho build và test         \n    paths:\n      - build/\ntest:\n  stage: test\n  script:\n    - echo &quot;Testing&quot;\n    - test -f &quot;build/info.txt&quot;</code></pre><p id=\"23c37f21-d10f-4758-93f8-7c3d43b765d2\" class=\"\">\n</p><h2 id=\"6182e1d0-c2ea-405b-81c6-b963b8522090\" class=\"\">Gitlab architecture</h2><ul id=\"344271ab-4ba0-42ed-aec8-26a21957d313\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Gitlab server quản lý <strong>gitlab runner</strong> (gitlab runner thực hiện các command), có thể dễ dàng mở rộng bằng cách bổ sung thêm gitlab runner </li></ul><p id=\"c053b6ae-0ebe-4cb9-9e2d-98072be51060\" class=\"\">\n</p><h2 id=\"3711bd17-d47c-42ce-8a4f-c3ec00ef7755\" class=\"\">CI/CD</h2><ul id=\"c9c6e1a5-5ab0-49ef-9740-fbd7b2c84d45\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Continuos intergration and continuos delivery (tích hợp liên tục và chuyển giao liên tục)</li></ul><ul id=\"453ea45d-6c89-4dc3-9fb9-dbf00d37dc03\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Khi dev đẩy code lên server sẽ tự động chạy, build, test, deploy sản phẩm</li></ul><ul id=\"911858db-cef4-44b4-a28a-9b9feaec769f\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">CI/CD = Git repository + CI/CD tool</li></ul><ul id=\"246c2926-e94d-4f08-badb-da7a09775206\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Aglie quản lý công việc, CI/CD quản lý technical</li></ul><p id=\"76fe695e-24a2-4ba6-bc7a-9a30ea9099dc\" class=\"\">\n</p><h2 id=\"4095aedb-f754-4a43-8253-bc121bde4e1b\" class=\"\">Basic CI/CD workflow with Gitlab</h2><ul id=\"aafefc1b-7c2f-4be4-885f-fb984dd790ff\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Tạo 1 static website (dùng gastby)</li></ul><ul id=\"dcbee1b8-fc3b-43d0-9298-27f9d2b24e28\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Add to git-lab </li></ul><ul id=\"4e2e2f4a-620b-4642-9b22-c3fd2d66d11a\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Build ở local (gastby build)</li></ul><ul id=\"3c884a73-39bf-46d7-8837-e0f4ecb171c0\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Tạo ra file .gitlab-ci.yml</li></ul><p id=\"8b050195-e8a7-447f-a8ca-aa8336fdab22\" class=\"\"> </p><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"41037163-fc9f-4b88-9ae8-a5633a4ed13a\" class=\"code\"><code class=\"language-JavaScript\">image: node ⇒ Gitlab không chạy được vì không có node js ⇒ Cần tạo 1 image có sãn node\nstages:\n  - build\n  - test\n  - deploy staging\n  - deploy review\n  - deploy production\n  - production tests\n\ncache: ⇒ Caches dùng ở global\n  key: ${CI_COMMIT_REF_SLUG}\n  paths:\n    - node_modules\n\nvariables: =&gt; \n  STAGING_DOMAIN: instanzone-staging.surge.sh\n  PRODUCTION_DOMAIN:  instanzone.surge.sh\n  \nbuild website:\n  stage: build</code></pre><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"630503d7-08cf-4a17-ab94-0474e5c847ac\" class=\"code\"><code class=\"language-JavaScript\">  script:\n    - echo $CI_COMMIT_SHORT_SHA\n    - npm install\n    - npm install -g gatsby-cli\n    - gatsby build\n    - sed -f “s/%%VERSION%%/$CI_COMMIT_SHORT_SHA/” ./public/index.html \n			=&gt; Thay %%VERSION%% bằng biến CI_COMMIT_SHORT_SHA\n  artifacts:\n    paths:\n      - ./public\n  test artifact:\n    image: alpine\n    stage: test\n    script:\n      - grep -q “Gatsby” ./public/index.html\n  test website:\n    stage: test =&gt; Cùng đặt tên stage: test thì nó sẽ chạy song song\n    script: \n      - npm install\n      - npm install -g gatsby-cli\n      - batsby serve &amp; =&gt; &amp; để chạy ở backgroud\n      - sleep 3\n      - curl “http://localhost:9000” | tac | tac | grep -q “Gatsby” \n  deploy review:\n    stage: deploy review\n    only:\n      - merge_request\n    enviroment:\n      name: review/$CI_COMMIT_REF_NAME\n      url: http://instazone-$CI_ENVIROMENT_SLUG.surge.sh\n    script:\n       - npm install —global surge\n       - surge —project ./public —domain http://instazone-$CI_ENVIROMENT_SLUG.surge.sh\n  deploy staging:\n\n    stage: deploy staging\n    enviroment:\n      name: staging\n      url: http://$STAGING_DOMAIN\n    only:\n      - master =&gt; Chỉ chạy khi master branch được commit\n    script:\n       - npm install —global surge\n       - surge —project ./public —domain http://$STAGING_DOMAIN\n\n  deploy production:\n    stage: deploy production\n    when: manual =&gt; Chỉ cho phép chạy khi click bằng tay trên giao diện.\n    allow_failure: false =&gt; Sẽ block pipeline, cho đến khi được click chạy.\n    enviroment:\n      name: production\n      url: http://$PRODUCTION_DOMAIN   \n    only:\n      - master\n    script:\n       - npm install —global surge\n       - surge —project ./public —domain http://$PRODUCTION_DOMAIN\n\nproduction tests:\n  image: alpine\n  stage: production tests\n  only:\n      - master\n  script:\n    - apk add --no-cache curl\n    - curl -s &quot;https://instazone.surge.sh&quot; | grep -q &quot;Hi people&quot;\n    - curl -s &quot;https://instazone.surge.sh&quot; | grep -q &quot;$CI_COMMIT_SHORT_SHA&quot;\n	    =&gt; Kiểm tra xem biến version có đc in ra không</code></pre><h2 id=\"e78f987f-b9de-45da-a22a-a71a88615546\" class=\"\">Gitlab CI fundamentals</h2><ul id=\"ac3ac677-6b33-46e0-b422-40c56aa96c1d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Predefined env variables<ul id=\"0da19f2f-2351-451a-9c0f-04c45f5bcddf\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Trong file index.html in ra %%VERSION%%</li></ul><ul id=\"a031f978-fa63-4fc7-b601-0ef4895d9cd4\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">sed -i ‘s/word1/word2/g’ input file ⇒ Câu lệnh để replace word 1 với word 2</li></ul><ul id=\"4556548c-eaf5-4033-a942-6027a307fff6\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Sửa lại file build</li></ul></li></ul><ul id=\"d36d6cc7-ce23-49dc-83d5-f87a60051d54\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cache để optimize the build speed<ul id=\"937290f9-06e4-4166-9ce3-18ad296c78b9\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Cache có 2 phần, <strong>key và paths.</strong></li></ul><ul id=\"099ead6c-a179-430c-b7eb-6d2be10326b8\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>Key </strong>là branch code being save.</li></ul><ul id=\"0c5d6ef1-55d3-4a45-a9fc-ab88a9cf1162\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"><strong>Paths</strong> để gitlab save.</li></ul></li></ul><h2 id=\"920f1617-f583-49cd-9ab3-4c9ff7f89ae8\" class=\"\">Sự khác nhau giữa cache và artifacts:</h2><ul id=\"87368f03-2bf5-4b33-ac6b-8868798535ff\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Artifact dùng để lưu những file sau khi build ra.</li></ul><ul id=\"745ab1f9-bc5b-4fd2-b852-76deaa38979d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Artifact là resource dùng chung giữa các stage.</li></ul><ul id=\"de928a31-45fa-4f69-92e0-513adc4ccc7d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cache không dùng để lưu những thứ build ra.</li></ul><ul id=\"f80935d7-216b-4e5b-9c88-1b992c88395d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cache chỉ nên đc sử dụng là vùng nhớ tạm cho các project dependencies.</li></ul><p id=\"20dc7300-8de9-46e9-a564-d03d94a2824d\" class=\"\">\n</p></div></article><span class=\"sans\" style=\"font-size:14px;padding-top:2em\"></span></body></html>', 'images/image_8.jpg', '2024-06-02 21:16:21', 1, 1);
INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(10, 1, 'Kafka', 'Engineer', 'Kafka', '<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/><title>Apache Kafka</title><style>\n/* cspell:disable-file */\n/* webkit printing magic: print all background colors */\nhtml {\n	-webkit-print-color-adjust: exact;\n}\n* {\n	box-sizing: border-box;\n	-webkit-print-color-adjust: exact;\n}\n\nhtml,\nbody {\n	margin: 0;\n	padding: 0;\n}\n@media only screen {\n	body {\n		margin: 2em auto;\n		max-width: 900px;\n		color: rgb(55, 53, 47);\n	}\n}\n\nbody {\n	line-height: 1.5;\n	white-space: pre-wrap;\n}\n\na,\na.visited {\n	color: inherit;\n	text-decoration: underline;\n}\n\n.pdf-relative-link-path {\n	font-size: 80%;\n	color: #444;\n}\n\nh1,\nh2,\nh3 {\n	letter-spacing: -0.01em;\n	line-height: 1.2;\n	font-weight: 600;\n	margin-bottom: 0;\n}\n\n.page-title {\n	font-size: 2.5rem;\n	font-weight: 700;\n	margin-top: 0;\n	margin-bottom: 0.75em;\n}\n\nh1 {\n	font-size: 1.875rem;\n	margin-top: 1.875rem;\n}\n\nh2 {\n	font-size: 1.5rem;\n	margin-top: 1.5rem;\n}\n\nh3 {\n	font-size: 1.25rem;\n	margin-top: 1.25rem;\n}\n\n.source {\n	border: 1px solid #ddd;\n	border-radius: 3px;\n	padding: 1.5em;\n	word-break: break-all;\n}\n\n.callout {\n	border-radius: 3px;\n	padding: 1rem;\n}\n\nfigure {\n	margin: 1.25em 0;\n	page-break-inside: avoid;\n}\n\nfigcaption {\n	opacity: 0.5;\n	font-size: 85%;\n	margin-top: 0.5em;\n}\n\nmark {\n	background-color: transparent;\n}\n\n.indented {\n	padding-left: 1.5em;\n}\n\nhr {\n	background: transparent;\n	display: block;\n	width: 100%;\n	height: 1px;\n	visibility: visible;\n	border: none;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.09);\n}\n\nimg {\n	max-width: 100%;\n}\n\n@media only print {\n	img {\n		max-height: 100vh;\n		object-fit: contain;\n	}\n}\n\n@page {\n	margin: 1in;\n}\n\n.collection-content {\n	font-size: 0.875rem;\n}\n\n.column-list {\n	display: flex;\n	justify-content: space-between;\n}\n\n.column {\n	padding: 0 1em;\n}\n\n.column:first-child {\n	padding-left: 0;\n}\n\n.column:last-child {\n	padding-right: 0;\n}\n\n.table_of_contents-item {\n	display: block;\n	font-size: 0.875rem;\n	line-height: 1.3;\n	padding: 0.125rem;\n}\n\n.table_of_contents-indent-1 {\n	margin-left: 1.5rem;\n}\n\n.table_of_contents-indent-2 {\n	margin-left: 3rem;\n}\n\n.table_of_contents-indent-3 {\n	margin-left: 4.5rem;\n}\n\n.table_of_contents-link {\n	text-decoration: none;\n	opacity: 0.7;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.18);\n}\n\ntable,\nth,\ntd {\n	border: 1px solid rgba(55, 53, 47, 0.09);\n	border-collapse: collapse;\n}\n\ntable {\n	border-left: none;\n	border-right: none;\n}\n\nth,\ntd {\n	font-weight: normal;\n	padding: 0.25em 0.5em;\n	line-height: 1.5;\n	min-height: 1.5em;\n	text-align: left;\n}\n\nth {\n	color: rgba(55, 53, 47, 0.6);\n}\n\nol,\nul {\n	margin: 0;\n	margin-block-start: 0.6em;\n	margin-block-end: 0.6em;\n}\n\nli > ol:first-child,\nli > ul:first-child {\n	margin-block-start: 0.6em;\n}\n\nul > li {\n	list-style: disc;\n}\n\nul.to-do-list {\n	padding-inline-start: 0;\n}\n\nul.to-do-list > li {\n	list-style: none;\n}\n\n.to-do-children-checked {\n	text-decoration: line-through;\n	opacity: 0.375;\n}\n\nul.toggle > li {\n	list-style: none;\n}\n\nul {\n	padding-inline-start: 1.7em;\n}\n\nul > li {\n	padding-left: 0.1em;\n}\n\nol {\n	padding-inline-start: 1.6em;\n}\n\nol > li {\n	padding-left: 0.2em;\n}\n\n.mono ol {\n	padding-inline-start: 2em;\n}\n\n.mono ol > li {\n	text-indent: -0.4em;\n}\n\n.toggle {\n	padding-inline-start: 0em;\n	list-style-type: none;\n}\n\n/* Indent toggle children */\n.toggle > li > details {\n	padding-left: 1.7em;\n}\n\n.toggle > li > details > summary {\n	margin-left: -1.1em;\n}\n\n.selected-value {\n	display: inline-block;\n	padding: 0 0.5em;\n	background: rgba(206, 205, 202, 0.5);\n	border-radius: 3px;\n	margin-right: 0.5em;\n	margin-top: 0.3em;\n	margin-bottom: 0.3em;\n	white-space: nowrap;\n}\n\n.collection-title {\n	display: inline-block;\n	margin-right: 1em;\n}\n\n.page-description {\n    margin-bottom: 2em;\n}\n\n.simple-table {\n	margin-top: 1em;\n	font-size: 0.875rem;\n	empty-cells: show;\n}\n.simple-table td {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table th {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table-header-color {\n	background: rgb(247, 246, 243);\n	color: black;\n}\n.simple-table-header {\n	font-weight: 500;\n}\n\ntime {\n	opacity: 0.5;\n}\n\n.icon {\n	display: inline-block;\n	max-width: 1.2em;\n	max-height: 1.2em;\n	text-decoration: none;\n	vertical-align: text-bottom;\n	margin-right: 0.5em;\n}\n\nimg.icon {\n	border-radius: 3px;\n}\n\n.user-icon {\n	width: 1.5em;\n	height: 1.5em;\n	border-radius: 100%;\n	margin-right: 0.5rem;\n}\n\n.user-icon-inner {\n	font-size: 0.8em;\n}\n\n.text-icon {\n	border: 1px solid #000;\n	text-align: center;\n}\n\n.page-cover-image {\n	display: block;\n	object-fit: cover;\n	width: 100%;\n	max-height: 30vh;\n}\n\n.page-header-icon {\n	font-size: 3rem;\n	margin-bottom: 1rem;\n}\n\n.page-header-icon-with-cover {\n	margin-top: -0.72em;\n	margin-left: 0.07em;\n}\n\n.page-header-icon img {\n	border-radius: 3px;\n}\n\n.link-to-page {\n	margin: 1em 0;\n	padding: 0;\n	border: none;\n	font-weight: 500;\n}\n\np > .user {\n	opacity: 0.5;\n}\n\ntd > .user,\ntd > time {\n	white-space: nowrap;\n}\n\ninput[type=\"checkbox\"] {\n	transform: scale(1.5);\n	margin-right: 0.6em;\n	vertical-align: middle;\n}\n\np {\n	margin-top: 0.5em;\n	margin-bottom: 0.5em;\n}\n\n.image {\n	border: none;\n	margin: 1.5em 0;\n	padding: 0;\n	border-radius: 0;\n	text-align: center;\n}\n\n.code,\ncode {\n	background: rgba(135, 131, 120, 0.15);\n	border-radius: 3px;\n	padding: 0.2em 0.4em;\n	border-radius: 3px;\n	font-size: 85%;\n	tab-size: 2;\n}\n\ncode {\n	color: #eb5757;\n}\n\n.code {\n	padding: 1.5em 1em;\n}\n\n.code-wrap {\n	white-space: pre-wrap;\n	word-break: break-all;\n}\n\n.code > code {\n	background: none;\n	padding: 0;\n	font-size: 100%;\n	color: inherit;\n}\n\nblockquote {\n	font-size: 1.25em;\n	margin: 1em 0;\n	padding-left: 1em;\n	border-left: 3px solid rgb(55, 53, 47);\n}\n\n.bookmark {\n	text-decoration: none;\n	max-height: 8em;\n	padding: 0;\n	display: flex;\n	width: 100%;\n	align-items: stretch;\n}\n\n.bookmark-title {\n	font-size: 0.85em;\n	overflow: hidden;\n	text-overflow: ellipsis;\n	height: 1.75em;\n	white-space: nowrap;\n}\n\n.bookmark-text {\n	display: flex;\n	flex-direction: column;\n}\n\n.bookmark-info {\n	flex: 4 1 180px;\n	padding: 12px 14px 14px;\n	display: flex;\n	flex-direction: column;\n	justify-content: space-between;\n}\n\n.bookmark-image {\n	width: 33%;\n	flex: 1 1 180px;\n	display: block;\n	position: relative;\n	object-fit: cover;\n	border-radius: 1px;\n}\n\n.bookmark-description {\n	color: rgba(55, 53, 47, 0.6);\n	font-size: 0.75em;\n	overflow: hidden;\n	max-height: 4.5em;\n	word-break: break-word;\n}\n\n.bookmark-href {\n	font-size: 0.75em;\n	margin-top: 0.25em;\n}\n\n.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"; }\n.code { font-family: \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace; }\n.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }\n.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }\n.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK JP\'; }\n.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK SC\'; }\n.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK TC\'; }\n.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK KR\'; }\n.pdf .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK JP\'; }\n.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK SC\'; }\n.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK TC\'; }\n.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK KR\'; }\n.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.highlight-default {\n	color: rgba(55, 53, 47, 1);\n}\n.highlight-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.highlight-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.highlight-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.highlight-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.highlight-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.highlight-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.highlight-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.highlight-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.highlight-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.highlight-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.highlight-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.highlight-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.highlight-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.highlight-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.highlight-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.highlight-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.highlight-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.highlight-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.block-color-default {\n	color: inherit;\n	fill: inherit;\n}\n.block-color-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.block-color-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.block-color-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.block-color-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.block-color-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.block-color-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.block-color-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.block-color-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.block-color-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.block-color-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.block-color-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.block-color-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.block-color-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.block-color-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.block-color-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.block-color-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.block-color-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.block-color-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }\n.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }\n.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }\n.select-value-color-green { background-color: rgba(219, 237, 219, 1); }\n.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }\n.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }\n.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }\n.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }\n.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }\n.select-value-color-red { background-color: rgba(255, 226, 221, 1); }\n.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }\n.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }\n.select-value-color-pageGlass { background-color: undefined; }\n.select-value-color-washGlass { background-color: undefined; }\n\n.checkbox {\n	display: inline-flex;\n	vertical-align: text-bottom;\n	width: 16;\n	height: 16;\n	background-size: 16px;\n	margin-left: 2px;\n	margin-right: 5px;\n}\n\n.checkbox-on {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n\n.checkbox-off {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n	\n</style></head><body><article id=\"ec991014-a10f-484d-b352-ce3597214a8f\" class=\"page sans\"><header><div class=\"page-header-icon undefined\"><img class=\"icon\" src=\"https://www.notion.so/icons/leaf_purple.svg\"/></div><h1 class=\"page-title\">Apache Kafka</h1><p class=\"page-description\"></p></header><div class=\"page-body\"><figure class=\"block-color-gray_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"330f18d9-b64c-45b4-ad66-3571d1ae2a3c\"><div style=\"font-size:1.5em\"><span class=\"icon\">💡</span></div><div style=\"width:100%\"><strong>Notion Tip: Stream distributed streaming platform </strong></div></figure><p id=\"d0376cc7-9ca3-440d-ab48-9600f12770f2\" class=\"\">\n</p><p id=\"9068e7f2-5fae-4066-af60-e5fa0968b500\" class=\"\"><strong>Table of contents</strong></p><nav id=\"686106f2-fdfb-4eda-9980-fe06fcb5107f\" class=\"block-color-gray table_of_contents\"><div class=\"table_of_contents-item table_of_contents-indent-0\"><a class=\"table_of_contents-link\" href=\"#5cb2e8cb-3196-45a2-b295-155044b88d1a\">Kafka Theory</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#22f66343-93dd-406f-a26e-05aab9572113\">1. Topics, Partitions, Offsets</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#efc8b0c1-6ef0-4558-8245-3d65155e74e5\">2. Producers and Message keys</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#1abcbb78-f875-4e9d-afc8-4aaf2a922a72\">3. Consumers and Deserialization</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#57ffb866-241b-437d-88ef-b005aeb337d0\">4. Broker và topic</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#9b82a5bf-ffe2-448e-b0c6-7440387557c1\">5. Replication</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#0bda06b3-2aab-4fb3-99d8-f4d9c665f070\">6. Producer Acknowledgements</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#7303dd13-406c-4ac5-a19e-7fa66694376c\">7. Zookeeper</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#a7be410b-514c-4081-bdce-e9b492fde52b\">8. Kafka KRaft</a></div><div class=\"table_of_contents-item table_of_contents-indent-0\"><a class=\"table_of_contents-link\" href=\"#d2190ee7-711f-435b-9683-4a22a39c1efa\">Start Kafka</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#839ccf36-bd8b-4855-b125-d10a965b1fc3\">1. Start with Zookeeper</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#60c82fe4-afab-4656-8094-642f9bc7dfd6\">2. CLI</a></div><div class=\"table_of_contents-item table_of_contents-indent-0\"><a class=\"table_of_contents-link\" href=\"#b101308e-4c31-40df-8a00-3f19af241192\">Programming</a></div></nav><h1 id=\"5cb2e8cb-3196-45a2-b295-155044b88d1a\" class=\"\">Kafka Theory</h1><h2 id=\"22f66343-93dd-406f-a26e-05aab9572113\" class=\"\">1. Topics, Partitions, Offsets</h2><ul id=\"b68d7dbc-3c37-4747-aa62-f5a6edc08875\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Topics như là table</li></ul><ul id=\"d4512cba-f69b-4e23-9b33-c184e5da9a34\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">1 topic có thể chia thành nhiều partitions</li></ul><ul id=\"648ac51b-b5ec-423f-9b3e-7ea25ffbbed1\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Offsets là id trong partion</li></ul><figure id=\"45c4f85d-e4cb-45ac-8ee2-c0a091b5adfb\" class=\"image\"><a href=\"/images/notion/kafka/Untitled.png\"><img style=\"width:976px\" src=\"/images/notion/kafka/Untitled.png\"/></a></figure><h2 id=\"efc8b0c1-6ef0-4558-8245-3d65155e74e5\" class=\"\">2. Producers and Message keys</h2><ul id=\"bc5c0281-9c7b-4c91-b743-66462d1af9fa\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Producers để gửi các message</li></ul><ul id=\"df0117c7-d105-4f3c-9ed0-534b6cf2bfd1\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các message có các key<ul id=\"e603c001-09d6-4c03-a5e3-78a19f115151\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">key = null ⇒ Message đc gửi theo round robin đến partition</li></ul><ul id=\"5f8ea8cd-ace1-4e34-a13c-a57f09861c16\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">key ≠ null ⇒ Luôn luôn gửi đến 1 partition</li></ul></li></ul><h2 id=\"1abcbb78-f875-4e9d-afc8-4aaf2a922a72\" class=\"\">3. Consumers and Deserialization</h2><ul id=\"07427ea5-24af-4433-9b6e-9e81f72e1060\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Consumer đọc và deserialize</li></ul><ul id=\"77b8d995-e8f9-4071-802b-9f4b9ee785c1\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Nhiều consumers cùng trong 1 application có thể đc xem là <strong>consumer groups</strong></li></ul><ul id=\"ff338c9b-3ab5-479a-980c-003bd6613f6e\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Consumer sau khi process data nhận đc từ Kafka thì sẽ gửi lại cho Kafka cái offsets vừa đọc, để trong trường hợp Consumer dies thì có đọc lại từ cái cuối cùng.</li></ul><h2 id=\"57ffb866-241b-437d-88ef-b005aeb337d0\" class=\"\">4. Broker và topic</h2><ul id=\"0f0e6b66-8a68-4e03-afea-2e1bdc3162ad\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Kafka cluster bao gồm nhiều broker</li></ul><ul id=\"ebbb4b1a-3ef3-42fe-8a29-155502e2649f\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Chỉ cần kết nối với 1 broker thì có thể kết nối với toàn bộ các broker khác (khi Kafka client kết nối với broker thì nó sẽ response list tất cả các broker khác)</li></ul><h2 id=\"9b82a5bf-ffe2-448e-b0c6-7440387557c1\" class=\"\">5. Replication</h2><ul id=\"7b9a624d-9ef9-4fad-bc4d-59ff6ea55a93\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Mặc định thì Consumer và Producer đọc và ghi ở Lead broker</li></ul><ul id=\"267c00ab-47fb-4880-8e6e-4eb4c6dc78f9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Có thể cấu hình  Consumer đọc từ Broker gần nhất</li></ul><figure id=\"9a30b11a-dcfe-4d62-9097-52634ae8c885\" class=\"image\"><a href=\"/images/notion/kafka/Untitled%201.png\"><img style=\"width:2517px\" src=\"/images/notion/kafka/Untitled%201.png\"/></a></figure><h2 id=\"0bda06b3-2aab-4fb3-99d8-f4d9c665f070\" class=\"\">6. Producer Acknowledgements</h2><ul id=\"75809681-f66c-46a9-be32-d545c86b3c68\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Producers có thể chọn để nhận acks<ul id=\"35a53158-0074-4ab1-bee7-f8558f3a2be0\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">acks = 0: producer cứ ghi vào thôi</li></ul><ul id=\"c616c625-ebd3-4788-ba3a-cccc1cd46d9d\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">acks = 1: producer sẽ chờ leader confirm</li></ul><ul id=\"f2836263-a961-40c7-a85e-4188cb3589eb\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">acks = all: producer sẽ chờ leader + replicas</li></ul></li></ul><h2 id=\"7303dd13-406c-4ac5-a19e-7fa66694376c\" class=\"\">7. Zookeeper</h2><ul id=\"5f716625-3a5b-47f5-bd62-26e6609eb154\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Là phần mềm để quản lý broker</li></ul><ul id=\"07859f5b-50e5-45d9-8f38-669c17d06fa7\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Ko sử dụng Zookeeper như là 1 cấu hình ở trong Kafka clients. Zookeeper chỉ access connect từ Kafka broker.</li></ul><h2 id=\"a7be410b-514c-4081-bdce-e9b492fde52b\" class=\"\">8. Kafka KRaft</h2><ul id=\"b9937d64-c70a-4f2b-8ac9-523524f8a268\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Từ bản 3.X thì ko cần sử dụng Zookeeper nữa</li></ul><h1 id=\"d2190ee7-711f-435b-9683-4a22a39c1efa\" class=\"\">Start Kafka</h1><h2 id=\"839ccf36-bd8b-4855-b125-d10a965b1fc3\" class=\"\">1. Start with Zookeeper</h2><ul id=\"5f145dfb-ba18-4db2-b4f1-8e02e6addadf\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Download kafka file binary <a href=\"https://kafka.apache.org/downloads\">https://kafka.apache.org/downloads</a></li></ul><ul id=\"76819ec5-0621-4490-bace-ee2e341d7cb0\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Giải nén</li></ul><ul id=\"e54a289c-13c1-4951-bcbe-fc0a9cdaa107\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Start zookeeper:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"34180bdd-a2e1-4f9a-8257-a99c6d1b879c\" class=\"code\"><code class=\"language-JavaScript\" style=\"white-space:pre-wrap;word-break:break-all\">zookeeper-server-start.sh /mnt/c/Users/vavu/kafka_2.13-3.6.0/config/zookeeper.properties\n//\nzookeeper-server-start.sh /mnt/c/Users/9999/kafka_2.13-3.0.0/config/zookeeper.properties</code></pre><ul id=\"b174f8a4-b8c2-4891-9411-1e2e63d98f31\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Start kafka</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"261685cb-5579-49dd-8a12-53a9c9bb1cdf\" class=\"code\"><code class=\"language-JavaScript\">kafka-server-start.sh  /mnt/c/Users/vavu/kafka_2.13-3.6.0/config/server.properties\n//\nkafka-server-start.sh  /mnt/c/Users/9999/kafka_2.13-3.0.0/config/server.properties</code></pre><h2 id=\"60c82fe4-afab-4656-8094-642f9bc7dfd6\" class=\"\">2. CLI</h2><ul id=\"7f273f1e-7367-4992-9189-cabe5dcebdfe\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">ClI Topic</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"c57c10d3-73db-4a15-8518-7f6bbc485170\" class=\"code\"><code class=\"language-JavaScript\" style=\"white-space:pre-wrap;word-break:break-all\"># Create a topic (working)\nkafka-topics.sh --bootstrap-server localhost:9092 --topic first_topic \n  --create --partitions 3 --replication-factor 1\n\n# List topics\nkafka-topics.sh --bootstrap-server localhost:9092 --list \n\n# Describe a topic\nkafka-topics.sh --bootstrap-server localhost:9092 --topic first_topic --describe\n\n# Delete a topic \nkafka-topics.sh --bootstrap-server localhost:9092 --topic first_topic --delete\n# (only works if delete.topic.enable=true)</code></pre><ul id=\"3219461f-b92d-4752-9e25-d05e61b33389\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">CLI Producer</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"3c2de164-cc5e-4b79-a8f8-f4bae267f8ef\" class=\"code\"><code class=\"language-JavaScript\" style=\"white-space:pre-wrap;word-break:break-all\"># producing\nkafka-console-producer.sh --bootstrap-server localhost:9092 --topic first_topic \n\n# producing with properties\nkafka-console-producer.sh --bootstrap-server localhost:9092 --topic first_topic \n  --producer-property acks=all\n\n# produce with keys\nkafka-console-producer.sh --bootstrap-server localhost:9092 --topic first_topic \n  --property parse.key=true --property key.separator=:</code></pre><ul id=\"95e20188-10d1-44f4-9304-e7cfe9a6ef1e\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">CLI Consumer</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"c05c7691-eeee-432d-a444-90194774dd6a\" class=\"code\"><code class=\"language-JavaScript\" style=\"white-space:pre-wrap;word-break:break-all\"># consuming\nkafka-console-consumer.sh --bootstrap-server localhost:9092 --topic second_topic\n\n# other terminal\nkafka-console-producer.sh --bootstrap-server localhost:9092 --producer-property \n  partitioner.class=org.apache.kafka.clients.producer.RoundRobinPartitioner\n   --topic second_topic\n\n# consuming from beginning\nkafka-console-consumer.sh --bootstrap-server localhost:9092 --topic second_topic \n  --from-beginning\n\n# display key, values and timestamp in consumer\nkafka-console-consumer.sh --bootstrap-server localhost:9092 --topic second_topic \n  --formatter kafka.tools.DefaultMessageFormatter --property print.timestamp=true \n   --property print.key=true --property print.value=true --property print.partition=true \n    --from-beginning</code></pre><ul id=\"d04d673b-da51-4062-9afd-fba34ceb64e3\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">CLI Consumer in Group</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"26ca3af0-f086-4ba8-9c0e-7c5edf8aaacc\" class=\"code\"><code class=\"language-JavaScript\" style=\"white-space:pre-wrap;word-break:break-all\"># create a topic with 3 partitions\nkafka-topics.sh --bootstrap-server localhost:9092 --topic third_topic --create --partitions 3\n\n# start one consumer\nkafka-console-consumer.sh --bootstrap-server localhost:9092 \n  --topic third_topic --group my-first-application\n\n# start one producer and start producing\nkafka-console-producer.sh --bootstrap-server localhost:9092 \n  --producer-property partitioner.class=org.apache.kafka.clients.producer.RoundRobinPartitioner \n  --topic third_topic\n\n# start another consumer part of the same group. See messages being spread\nkafka-console-consumer.sh --bootstrap-server localhost:9092 \n  --topic third_topic --group my-first-application\n\n# start another consumer part of a different group from beginning\nkafka-console-consumer.sh --bootstrap-server localhost:9092 \n  --topic third_topic --group my-second-application --from-beginning</code></pre><ul id=\"64370f94-e8a2-41e9-997a-7c3e891eff4f\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">CLI Group</li></ul><ul id=\"2b374b4a-0670-45af-b9c9-0a5d6fd2d0e5\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">CLI Offsets</li></ul><h1 id=\"b101308e-4c31-40df-8a00-3f19af241192\" class=\"\">Programming</h1><ul id=\"f129fb18-47de-4d0c-8a1f-f9d94478a61c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Lỗi khi chạy Kafka local với wsl2<ul id=\"82531d39-b479-4f6f-a7cb-1c49469b7115\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Chạy 2 lệnh dưới</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"b6f250a9-caa1-46c6-989d-54621fa7eff3\" class=\"code\"><code class=\"language-JavaScript\">sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\nsudo sysctl -w net.ipv6.conf.default.disable_ipv6=1</code></pre><ul id=\"6d089b19-a8a1-4af9-bb0d-c599fa464325\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Sửa config/server.properties</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"e67a877a-bea5-411c-8ccf-a92053ccd723\" class=\"code\"><code class=\"language-JavaScript\">listeners=PLAINTEXT://localhost:9092</code></pre></li></ul><ul id=\"6297a104-a50e-4a3a-bdf7-76e96d98ac2b\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Idempotent producer: để ko send duplicate request từ producer đến kafka<ul id=\"14a48c50-fbfd-43e9-bba8-e0f83436ce9b\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Từ bản ≥3.0 chức năng idempotent và safe producer là mặc định</li></ul></li></ul><figure id=\"8d7589a7-9348-4258-a036-6627ca72dadb\" class=\"image\"><a href=\"/images/notion/kafka/Untitled%202.png\"><img style=\"width:1065px\" src=\"/images/notion/kafka/Untitled%202.png\"/></a></figure><ul id=\"fbe2a715-2504-4b85-8f58-d3decd0e3f27\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để xóa tất cả các cache ở local<p id=\"38fcaced-6b8b-45a5-acf0-8a71304b248f\" class=\"\"><code>rm -rf /tmp/kafka-logs /tmp/zookeeper /tmp/kraft-combined-logs</code></p></li></ul><ul id=\"77f4ff2a-e104-43ec-81ba-e32625d81a05\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Có thể nén messages để giảm dung lượng</li></ul><ul id=\"7e9a8b80-12d3-425a-8460-dfa5e4594eaa\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cơ chế send lại của consumer</li></ul><p id=\"3995de76-0ce9-4db2-9406-c0be1f9963b0\" class=\"\">\n</p><figure id=\"ee06151b-3c48-4d56-86a5-de767a3ea900\" class=\"image\"><a href=\"/images/notion/kafka/Untitled%203.png\"><img style=\"width:1347px\" src=\"/images/notion/kafka/Untitled%203.png\"/></a></figure><ul id=\"28d6f5f8-df6a-448d-b3d6-e48bdd2eaa63\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Consumer internal thread<ul id=\"9273b86b-a594-48c2-b7a9-3399f75fc6cc\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">heartbeat.interval.ms: h bao lâu thì send hearbeat.</li></ul><ul id=\"69847e3a-8bd9-4fc4-8d80-823c2aa66319\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">session.timeout.ms: nếu quá thời gian đó thì xem consumer là dead.</li></ul><ul id=\"f3701580-418a-4ae7-b4e6-1eeea85fd254\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">max.poll.records: số record tối đa nhận đc mỗi lần gọi poll</li></ul><ul id=\"b5230eb4-3506-4e8a-af60-1aabac45f042\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">fetch.min.bytes: số data nhận đc ít nhất mỗi lần pull</li></ul></li></ul></div></article><span class=\"sans\" style=\"font-size:14px;padding-top:2em\"></span></body></html>', 'images/image_9.jpg', '2024-06-02 21:25:06', 1, NULL);
INSERT INTO `post` (`id`, `user_id`, `title`, `category`, `brief_content`, `content`, `image`, `create_date`, `status`, `popular`) VALUES
(11, 1, 'RabbitMQ', 'Engineer', 'RabbitMQ', '<html><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/><title>RabbitMQ</title><style>\n/* cspell:disable-file */\n/* webkit printing magic: print all background colors */\nhtml {\n	-webkit-print-color-adjust: exact;\n}\n* {\n	box-sizing: border-box;\n	-webkit-print-color-adjust: exact;\n}\n\nhtml,\nbody {\n	margin: 0;\n	padding: 0;\n}\n@media only screen {\n	body {\n		margin: 2em auto;\n		max-width: 900px;\n		color: rgb(55, 53, 47);\n	}\n}\n\nbody {\n	line-height: 1.5;\n	white-space: pre-wrap;\n}\n\na,\na.visited {\n	color: inherit;\n	text-decoration: underline;\n}\n\n.pdf-relative-link-path {\n	font-size: 80%;\n	color: #444;\n}\n\nh1,\nh2,\nh3 {\n	letter-spacing: -0.01em;\n	line-height: 1.2;\n	font-weight: 600;\n	margin-bottom: 0;\n}\n\n.page-title {\n	font-size: 2.5rem;\n	font-weight: 700;\n	margin-top: 0;\n	margin-bottom: 0.75em;\n}\n\nh1 {\n	font-size: 1.875rem;\n	margin-top: 1.875rem;\n}\n\nh2 {\n	font-size: 1.5rem;\n	margin-top: 1.5rem;\n}\n\nh3 {\n	font-size: 1.25rem;\n	margin-top: 1.25rem;\n}\n\n.source {\n	border: 1px solid #ddd;\n	border-radius: 3px;\n	padding: 1.5em;\n	word-break: break-all;\n}\n\n.callout {\n	border-radius: 3px;\n	padding: 1rem;\n}\n\nfigure {\n	margin: 1.25em 0;\n	page-break-inside: avoid;\n}\n\nfigcaption {\n	opacity: 0.5;\n	font-size: 85%;\n	margin-top: 0.5em;\n}\n\nmark {\n	background-color: transparent;\n}\n\n.indented {\n	padding-left: 1.5em;\n}\n\nhr {\n	background: transparent;\n	display: block;\n	width: 100%;\n	height: 1px;\n	visibility: visible;\n	border: none;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.09);\n}\n\nimg {\n	max-width: 100%;\n}\n\n@media only print {\n	img {\n		max-height: 100vh;\n		object-fit: contain;\n	}\n}\n\n@page {\n	margin: 1in;\n}\n\n.collection-content {\n	font-size: 0.875rem;\n}\n\n.column-list {\n	display: flex;\n	justify-content: space-between;\n}\n\n.column {\n	padding: 0 1em;\n}\n\n.column:first-child {\n	padding-left: 0;\n}\n\n.column:last-child {\n	padding-right: 0;\n}\n\n.table_of_contents-item {\n	display: block;\n	font-size: 0.875rem;\n	line-height: 1.3;\n	padding: 0.125rem;\n}\n\n.table_of_contents-indent-1 {\n	margin-left: 1.5rem;\n}\n\n.table_of_contents-indent-2 {\n	margin-left: 3rem;\n}\n\n.table_of_contents-indent-3 {\n	margin-left: 4.5rem;\n}\n\n.table_of_contents-link {\n	text-decoration: none;\n	opacity: 0.7;\n	border-bottom: 1px solid rgba(55, 53, 47, 0.18);\n}\n\ntable,\nth,\ntd {\n	border: 1px solid rgba(55, 53, 47, 0.09);\n	border-collapse: collapse;\n}\n\ntable {\n	border-left: none;\n	border-right: none;\n}\n\nth,\ntd {\n	font-weight: normal;\n	padding: 0.25em 0.5em;\n	line-height: 1.5;\n	min-height: 1.5em;\n	text-align: left;\n}\n\nth {\n	color: rgba(55, 53, 47, 0.6);\n}\n\nol,\nul {\n	margin: 0;\n	margin-block-start: 0.6em;\n	margin-block-end: 0.6em;\n}\n\nli > ol:first-child,\nli > ul:first-child {\n	margin-block-start: 0.6em;\n}\n\nul > li {\n	list-style: disc;\n}\n\nul.to-do-list {\n	padding-inline-start: 0;\n}\n\nul.to-do-list > li {\n	list-style: none;\n}\n\n.to-do-children-checked {\n	text-decoration: line-through;\n	opacity: 0.375;\n}\n\nul.toggle > li {\n	list-style: none;\n}\n\nul {\n	padding-inline-start: 1.7em;\n}\n\nul > li {\n	padding-left: 0.1em;\n}\n\nol {\n	padding-inline-start: 1.6em;\n}\n\nol > li {\n	padding-left: 0.2em;\n}\n\n.mono ol {\n	padding-inline-start: 2em;\n}\n\n.mono ol > li {\n	text-indent: -0.4em;\n}\n\n.toggle {\n	padding-inline-start: 0em;\n	list-style-type: none;\n}\n\n/* Indent toggle children */\n.toggle > li > details {\n	padding-left: 1.7em;\n}\n\n.toggle > li > details > summary {\n	margin-left: -1.1em;\n}\n\n.selected-value {\n	display: inline-block;\n	padding: 0 0.5em;\n	background: rgba(206, 205, 202, 0.5);\n	border-radius: 3px;\n	margin-right: 0.5em;\n	margin-top: 0.3em;\n	margin-bottom: 0.3em;\n	white-space: nowrap;\n}\n\n.collection-title {\n	display: inline-block;\n	margin-right: 1em;\n}\n\n.page-description {\n    margin-bottom: 2em;\n}\n\n.simple-table {\n	margin-top: 1em;\n	font-size: 0.875rem;\n	empty-cells: show;\n}\n.simple-table td {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table th {\n	height: 29px;\n	min-width: 120px;\n}\n\n.simple-table-header-color {\n	background: rgb(247, 246, 243);\n	color: black;\n}\n.simple-table-header {\n	font-weight: 500;\n}\n\ntime {\n	opacity: 0.5;\n}\n\n.icon {\n	display: inline-block;\n	max-width: 1.2em;\n	max-height: 1.2em;\n	text-decoration: none;\n	vertical-align: text-bottom;\n	margin-right: 0.5em;\n}\n\nimg.icon {\n	border-radius: 3px;\n}\n\n.user-icon {\n	width: 1.5em;\n	height: 1.5em;\n	border-radius: 100%;\n	margin-right: 0.5rem;\n}\n\n.user-icon-inner {\n	font-size: 0.8em;\n}\n\n.text-icon {\n	border: 1px solid #000;\n	text-align: center;\n}\n\n.page-cover-image {\n	display: block;\n	object-fit: cover;\n	width: 100%;\n	max-height: 30vh;\n}\n\n.page-header-icon {\n	font-size: 3rem;\n	margin-bottom: 1rem;\n}\n\n.page-header-icon-with-cover {\n	margin-top: -0.72em;\n	margin-left: 0.07em;\n}\n\n.page-header-icon img {\n	border-radius: 3px;\n}\n\n.link-to-page {\n	margin: 1em 0;\n	padding: 0;\n	border: none;\n	font-weight: 500;\n}\n\np > .user {\n	opacity: 0.5;\n}\n\ntd > .user,\ntd > time {\n	white-space: nowrap;\n}\n\ninput[type=\"checkbox\"] {\n	transform: scale(1.5);\n	margin-right: 0.6em;\n	vertical-align: middle;\n}\n\np {\n	margin-top: 0.5em;\n	margin-bottom: 0.5em;\n}\n\n.image {\n	border: none;\n	margin: 1.5em 0;\n	padding: 0;\n	border-radius: 0;\n	text-align: center;\n}\n\n.code,\ncode {\n	background: rgba(135, 131, 120, 0.15);\n	border-radius: 3px;\n	padding: 0.2em 0.4em;\n	border-radius: 3px;\n	font-size: 85%;\n	tab-size: 2;\n}\n\ncode {\n	color: #eb5757;\n}\n\n.code {\n	padding: 1.5em 1em;\n}\n\n.code-wrap {\n	white-space: pre-wrap;\n	word-break: break-all;\n}\n\n.code > code {\n	background: none;\n	padding: 0;\n	font-size: 100%;\n	color: inherit;\n}\n\nblockquote {\n	font-size: 1.25em;\n	margin: 1em 0;\n	padding-left: 1em;\n	border-left: 3px solid rgb(55, 53, 47);\n}\n\n.bookmark {\n	text-decoration: none;\n	max-height: 8em;\n	padding: 0;\n	display: flex;\n	width: 100%;\n	align-items: stretch;\n}\n\n.bookmark-title {\n	font-size: 0.85em;\n	overflow: hidden;\n	text-overflow: ellipsis;\n	height: 1.75em;\n	white-space: nowrap;\n}\n\n.bookmark-text {\n	display: flex;\n	flex-direction: column;\n}\n\n.bookmark-info {\n	flex: 4 1 180px;\n	padding: 12px 14px 14px;\n	display: flex;\n	flex-direction: column;\n	justify-content: space-between;\n}\n\n.bookmark-image {\n	width: 33%;\n	flex: 1 1 180px;\n	display: block;\n	position: relative;\n	object-fit: cover;\n	border-radius: 1px;\n}\n\n.bookmark-description {\n	color: rgba(55, 53, 47, 0.6);\n	font-size: 0.75em;\n	overflow: hidden;\n	max-height: 4.5em;\n	word-break: break-word;\n}\n\n.bookmark-href {\n	font-size: 0.75em;\n	margin-top: 0.25em;\n}\n\n.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"; }\n.code { font-family: \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace; }\n.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }\n.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }\n.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK JP\'; }\n.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK SC\'; }\n.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK TC\'; }\n.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\", \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans CJK KR\'; }\n.pdf .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .code { font-family: Source Code Pro, \"SFMono-Regular\", Menlo, Consolas, \"PT Mono\", \"Liberation Mono\", Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK JP\'; }\n.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK SC\'; }\n.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK TC\'; }\n.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, \'Twemoji\', \'Noto Color Emoji\', \'Noto Serif CJK KR\'; }\n.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK JP\'; }\n.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK SC\'; }\n.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK TC\'; }\n.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, \'Twemoji\', \'Noto Color Emoji\', \'Noto Sans Mono CJK KR\'; }\n.highlight-default {\n	color: rgba(55, 53, 47, 1);\n}\n.highlight-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.highlight-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.highlight-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.highlight-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.highlight-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.highlight-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.highlight-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.highlight-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.highlight-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.highlight-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.highlight-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.highlight-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.highlight-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.highlight-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.highlight-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.highlight-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.highlight-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.highlight-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.block-color-default {\n	color: inherit;\n	fill: inherit;\n}\n.block-color-gray {\n	color: rgba(120, 119, 116, 1);\n	fill: rgba(120, 119, 116, 1);\n}\n.block-color-brown {\n	color: rgba(159, 107, 83, 1);\n	fill: rgba(159, 107, 83, 1);\n}\n.block-color-orange {\n	color: rgba(217, 115, 13, 1);\n	fill: rgba(217, 115, 13, 1);\n}\n.block-color-yellow {\n	color: rgba(203, 145, 47, 1);\n	fill: rgba(203, 145, 47, 1);\n}\n.block-color-teal {\n	color: rgba(68, 131, 97, 1);\n	fill: rgba(68, 131, 97, 1);\n}\n.block-color-blue {\n	color: rgba(51, 126, 169, 1);\n	fill: rgba(51, 126, 169, 1);\n}\n.block-color-purple {\n	color: rgba(144, 101, 176, 1);\n	fill: rgba(144, 101, 176, 1);\n}\n.block-color-pink {\n	color: rgba(193, 76, 138, 1);\n	fill: rgba(193, 76, 138, 1);\n}\n.block-color-red {\n	color: rgba(212, 76, 71, 1);\n	fill: rgba(212, 76, 71, 1);\n}\n.block-color-gray_background {\n	background: rgba(241, 241, 239, 1);\n}\n.block-color-brown_background {\n	background: rgba(244, 238, 238, 1);\n}\n.block-color-orange_background {\n	background: rgba(251, 236, 221, 1);\n}\n.block-color-yellow_background {\n	background: rgba(251, 243, 219, 1);\n}\n.block-color-teal_background {\n	background: rgba(237, 243, 236, 1);\n}\n.block-color-blue_background {\n	background: rgba(231, 243, 248, 1);\n}\n.block-color-purple_background {\n	background: rgba(244, 240, 247, 0.8);\n}\n.block-color-pink_background {\n	background: rgba(249, 238, 243, 0.8);\n}\n.block-color-red_background {\n	background: rgba(253, 235, 236, 1);\n}\n.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }\n.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }\n.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }\n.select-value-color-green { background-color: rgba(219, 237, 219, 1); }\n.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }\n.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }\n.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }\n.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }\n.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }\n.select-value-color-red { background-color: rgba(255, 226, 221, 1); }\n.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }\n.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }\n.select-value-color-pageGlass { background-color: undefined; }\n.select-value-color-washGlass { background-color: undefined; }\n\n.checkbox {\n	display: inline-flex;\n	vertical-align: text-bottom;\n	width: 16;\n	height: 16;\n	background-size: 16px;\n	margin-left: 2px;\n	margin-right: 5px;\n}\n\n.checkbox-on {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n\n.checkbox-off {\n	background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E\");\n}\n	\n</style></head><body><article id=\"6150e77a-a29c-4be9-8623-216c22e276c0\" class=\"page sans\"><header><div class=\"page-header-icon undefined\"><img class=\"icon\" src=\"https://www.notion.so/icons/hare_red.svg\"/></div><h1 class=\"page-title\">RabbitMQ</h1><p class=\"page-description\"></p></header><div class=\"page-body\"><figure class=\"block-color-gray_background callout\" style=\"white-space:pre-wrap;display:flex\" id=\"e41f7cf5-716d-436e-b240-da1b805d0fcc\"><div style=\"font-size:1.5em\"><span class=\"icon\">💡</span></div><div style=\"width:100%\">Solid là nguyên tắc thiết kế</div></figure><nav id=\"8dccf761-0a93-40f2-9035-6464fe9348f9\" class=\"block-color-gray table_of_contents\"><div class=\"table_of_contents-item table_of_contents-indent-0\"><a class=\"table_of_contents-link\" href=\"#4e240e9e-fe7a-4aa3-abca-3f9a16903da5\">Introduction</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#57004171-1e34-4c1e-ab4c-6c6698140fa2\">Tổng quan</a></div><div class=\"table_of_contents-item table_of_contents-indent-0\"><a class=\"table_of_contents-link\" href=\"#b4c1137a-536f-4ae7-9727-bc7527146aee\">Getting start</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#1bfdae11-31e5-4298-aa22-1d540695e6f4\">Cài đặt</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#9c65499b-09b8-4ab5-8afe-77df57a1efa6\">Bật web admin</a></div><div class=\"table_of_contents-item table_of_contents-indent-0\"><a class=\"table_of_contents-link\" href=\"#2690ac65-9397-490e-ac31-9f269b33ffea\">RabbitMQ pattern</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#6bcfa344-9e04-46cb-a01f-4cba2b2e7321\">Simple queue</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#86f1b949-d109-4f13-9791-0e0e7b716a76\">Work Queues / Task Queues</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#04a983ba-7b49-4409-bc3e-011f79524923\">Public / Subsribe (fanout)</a></div><div class=\"table_of_contents-item table_of_contents-indent-0\"><a class=\"table_of_contents-link\" href=\"#d0514f39-b92b-4dff-853a-e2763b48f6b4\">RabbitMQ advance</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#4de88981-d7a0-490c-86c9-4e51bbc1a85c\">Consistent Hash Exchange</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#072c9aa7-904f-42f2-99e5-fa0d62c2a51a\">Dead letter exchange</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#f1de5e31-d995-4529-a191-d1ef9a255a96\">Data safety</a></div><div class=\"table_of_contents-item table_of_contents-indent-1\"><a class=\"table_of_contents-link\" href=\"#367b79a1-8e2c-401a-bc66-c067a9f942fe\">Virtual host</a></div></nav><h1 id=\"4e240e9e-fe7a-4aa3-abca-3f9a16903da5\" class=\"\">Introduction</h1><h2 id=\"57004171-1e34-4c1e-ab4c-6c6698140fa2\" class=\"\">Tổng quan</h2><ul id=\"26ebbf09-5a01-4e22-b104-ae873b9c9764\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Là 1 open-source message-broker </li></ul><ul id=\"8ceb2558-166c-434a-9e6e-a938659278d1\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Ban đầu đc viết bằng Erlang (Có WhatsApp cũng viêt bằng Erlang)</li></ul><ul id=\"5e64f175-c14e-4191-a24f-f6673a8a4971\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Sự khác nhau giữa RabbitMQ và Kafka<ul id=\"e2cafa78-79dc-4d92-b175-94098fb68da8\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">RabbitMQ:<ul id=\"d322b3df-99ee-42ce-ae16-768e3ac5ff33\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Dummy customer, push model</li></ul><ul id=\"d7aa3a90-ab7c-4d16-bf1d-d340a49d0ae1\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Message chỉ đc consumed only once</li></ul><ul id=\"758a7a2f-9c39-4135-a3d0-fd9de142b1bf\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Chậm so với Kafka</li></ul><ul id=\"5b71234e-03e3-4721-a243-4c65f77b6247\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Nhất quán cao hơn kafka</li></ul><ul id=\"d257bdfc-080c-4a01-8d76-ca931b53243a\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Rẻ hơn kafka</li></ul></li></ul><ul id=\"4ace5cbf-d53b-4d12-831a-033579f4232f\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Kafka<ul id=\"8f6ebdd3-d579-40e7-8a6e-a42c5f8967db\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Smart customer, pull model</li></ul><ul id=\"ac51e9df-b29e-4caf-8f00-d723276836ae\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Message có thể dc consumed bởi nhiều consumers</li></ul><ul id=\"199d8373-05a0-4c68-ad09-dca2a3f9582e\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Nhanh</li></ul></li></ul></li></ul><ul id=\"5c4eb828-437b-45e9-a909-11dc45999d39\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">AMQP Protocol<ul id=\"b307f793-5665-4951-aca8-300e01fa23b5\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Dùng cho async</li></ul><ul id=\"aad5a025-8b0e-4474-907d-fd711e3dbb9f\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Thiết kế cho mô hình publisher và consumer</li></ul><ul id=\"84656a15-555a-4b98-8bb0-9b503b043709\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">AMQP message bao gồm:<ul id=\"0e2dfc39-94cb-4a9e-9466-f006d25d47a7\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Header ⇒ Key/value</li></ul><ul id=\"4653825d-02dc-4e56-9f87-b797b189933d\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Properties ⇒ Key/value</li></ul><ul id=\"f7ac43fe-dffb-4ee7-ab1e-c37b6a2aaaa3\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Body ⇒ Payload kiểu byte[]</li></ul></li></ul></li></ul><h1 id=\"b4c1137a-536f-4ae7-9727-bc7527146aee\" class=\"\">Getting start</h1><h2 id=\"1bfdae11-31e5-4298-aa22-1d540695e6f4\" class=\"\">Cài đặt</h2><ul id=\"d5d3d521-e3e6-4ced-a6a1-d06f52947581\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cài đặt RabbitMQ server</li></ul><ul id=\"2b087b3d-ca53-4468-9e58-2413fa082db2\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Cài đặt erlang</li></ul><h2 id=\"9c65499b-09b8-4ab5-8afe-77df57a1efa6\" class=\"\">Bật web admin</h2><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"04b4316c-62e9-4c01-a01f-4e2fc231b798\" class=\"code\"><code class=\"language-JavaScript\">rabbitmq-plugins.bat enable rabbit</code></pre><ul id=\"d8c063d1-b11e-4dd4-b650-881b2e89b3c7\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Chạy localhost:15672</li></ul><ul id=\"c2009db6-96e1-4a69-9346-81be77256721\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Username/password: guest/guest</li></ul><ul id=\"b7b98edc-d535-4a4d-a9a5-c7273b30ff94\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Connection là  TCP/IP between the client and the broker</li></ul><ul id=\"6cc87bfb-673f-4326-baf8-2fe4a3a777f9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Channel là virtual connection inside TCP/IP connection<ul id=\"7a64ac35-b392-4c05-8654-865f8becbb78\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Một connection có nhiều channel</li></ul></li></ul><ul id=\"32c631a7-c5b8-431b-b896-0180646299bd\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Core concepts:<ul id=\"a3628056-d9f1-46dd-98d3-cf304977858e\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Producer: gửi mesasage vào exchange</li></ul><ul id=\"24242e50-5ad2-4505-96ec-02c007eb6140\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Consumer: nhận message từ queue</li></ul><ul id=\"1a6f4b2f-9b38-4b30-915f-a19c9492917d\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Queue: lưu trữ message</li></ul><ul id=\"b622835b-79a5-4f06-8793-d18a5cc21bc0\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Exchange:<ul id=\"cd730406-b631-4105-ab7d-41ccab73de0b\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Exchange ràng buộc với queue bằng binding key</li></ul><ul id=\"3ea9ed30-f265-4b4b-93be-70a7e01d0655\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Trao đổi so sánh khóa định tuyến với khóa liên kết</li></ul></li></ul><figure id=\"74ff9dba-7843-4bf4-b7ce-e313be756349\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled.png\"><img style=\"width:1436px\" src=\"/images/notion/rabbitmq/Untitled.png\"/></a></figure></li></ul><ul id=\"81ac6758-a0b2-4788-9e1e-b73058ed0852\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Các loại exchange:<ul id=\"cdc34292-d93c-418c-b6a3-e582f3e390b2\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Nameless<ul id=\"0cd63d34-f289-4934-ba86-7a633a88ce3b\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Mặc định, AMQP default</li></ul><ul id=\"36fe4eab-6065-4a96-837b-bd38499c34a2\" class=\"bulleted-list\"><li style=\"list-style-type:square\">So sánh routing vơi queue name</li></ul></li></ul><ul id=\"720fdf9e-bf7d-4f03-927e-cfa2b8cea843\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Fanout<ul id=\"c4f47f01-2b63-44d0-9fe6-7b65fac5cc0e\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Send message đến tất cả các queue</li></ul><ul id=\"4bd5f8c8-b907-41bb-877f-2df7dd9c9669\" class=\"bulleted-list\"><li style=\"list-style-type:square\">Ignores routing key</li></ul></li></ul><ul id=\"83e4343f-459d-4c7b-93b6-7289a9a54b5d\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Direct</li></ul><ul id=\"5880e4b1-4ab5-4b3a-847b-f0c3bec33a8d\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Topic: send message đến queue dựa theo pattern</li></ul><ul id=\"1ed8904c-f2b4-4c05-baaf-043688a90467\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Headers: giống topic </li></ul></li></ul><ul id=\"c71d2a9c-abe0-489b-adb2-d214507b06d5\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Queue:<ul id=\"a1001acb-feef-4da4-a98a-970c06b81994\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Có unique name</li></ul><ul id=\"bc08a01b-0f92-465c-a04f-9bbe62741979\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Có thể đc tảo bởi Consumer và Producer</li></ul><ul id=\"48860ddf-17d9-47a2-86c0-1194539ebcce\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">1 queue = 1 Erlang process</li></ul><ul id=\"c6b8fe22-95b9-4238-a4a0-d9df2fed0178\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">FIFO default</li></ul><p id=\"66e3c8a6-9200-4380-acb7-7dc5ca7c5757\" class=\"\">\n</p></li></ul><h1 id=\"2690ac65-9397-490e-ac31-9f269b33ffea\" class=\"\">RabbitMQ pattern</h1><h2 id=\"6bcfa344-9e04-46cb-a01f-4cba2b2e7321\" class=\"\">Simple queue</h2><ul id=\"dff67f19-241a-4df6-be0f-1635f27ce09c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Durability<ul id=\"674adb5f-81ff-4065-83b5-d81f9373254c\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Message vẫn còn sau khi restart server </li></ul></li></ul><ul id=\"e088431d-593f-4753-ba34-c1f552f702c3\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Persistency<ul id=\"bfec2cf0-68de-48e1-bc58-3ae7bcac3f8d\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Message allow to be restored once server gets up</li></ul><ul id=\"98debf5b-35e5-4c47-bddb-eb407651b8bc\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Persisstent message sẽ bị xóa khỏi queue khi nó đc consumed</li></ul></li></ul><h2 id=\"86f1b949-d109-4f13-9791-0e0e7b716a76\" class=\"\">Work Queues / Task Queues</h2><figure id=\"64068713-1632-4ce3-ad19-8fd79dd4bcec\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled%201.png\"><img style=\"width:466px\" src=\"/images/notion/rabbitmq/Untitled%201.png\"/></a></figure><ul id=\"6cb0d24d-11c9-4eb8-a67a-aaf96c106f16\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Nack message requeue true<ul id=\"394f9a9d-f8a1-4f8a-a584-b5551668430f\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Consumer xử lý fail, và hoàn trả lại message</li></ul></li></ul><ul id=\"7140b71c-fca3-415c-a2e6-778affc8be0e\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Reject requeue fail:<ul id=\"adc9c97a-2bcb-4a01-80ee-9ba62c548bc8\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Consumer xử lý fail nhưng và nuốt luôn</li></ul></li></ul><h2 id=\"04a983ba-7b49-4409-bc3e-011f79524923\" class=\"\">Public / Subsribe (fanout)</h2><ul id=\"8f6b5fac-3472-435a-a652-40ea1ca21b1c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">exchange type = direct, và route dựa trên binding</li></ul><figure id=\"8ce9b03b-7cfe-45dc-9623-d51dd8117981\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled%202.png\"><img style=\"width:699.328125px\" src=\"/images/notion/rabbitmq/Untitled%202.png\"/></a></figure><ul id=\"509d7f04-d31f-4f0c-b3bd-39393a861d1c\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">exchange type = topic, và route dựa trên regex<ul id=\"e076e01c-2a4e-48de-9d88-a4b9ae5803bb\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">* là phải có đúng 1 từ </li></ul><ul id=\"a7f4de66-0d06-4dd4-bf2b-397a56620e56\" class=\"bulleted-list\"><li style=\"list-style-type:circle\"># là có thể có 0 hoặc nhiều từ</li></ul></li></ul><figure id=\"d732614b-5557-4893-970d-78c9456fc2b8\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled%203.png\"><img style=\"width:672px\" src=\"/images/notion/rabbitmq/Untitled%203.png\"/></a></figure><ul id=\"b9ea12a0-8434-417f-bc07-7767c3ab90fe\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">exchange type = header<ul id=\"612c4b1d-65c6-472b-ae9a-71d71c7e1878\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Bỏ qua routing key</li></ul><ul id=\"4fb3d651-5fdf-40ba-ae3a-ac0a743070d2\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">x-match: any là lấy hết</li></ul><ul id=\"cae0eae8-e7f9-4c98-a944-0c80dc78c438\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Còn lại thì phải match với nhận</li></ul></li></ul><h1 id=\"d0514f39-b92b-4dff-853a-e2763b48f6b4\" class=\"\">RabbitMQ advance</h1><h2 id=\"4de88981-d7a0-490c-86c9-4e51bbc1a85c\" class=\"\">Consistent Hash Exchange</h2><ul id=\"2722f6b0-1a42-4696-be91-a9d34f54c871\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để turn on consistent hash exchange, chạy lệnh:</li></ul><script src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js\" integrity=\"sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"></script><link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css\" integrity=\"sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\" crossorigin=\"anonymous\" referrerPolicy=\"no-referrer\"/><pre id=\"fa832360-7540-45f6-a129-69249f6c78eb\" class=\"code\"><code class=\"language-JavaScript\">rabbitmq_plugins enable rabbitmq_consistent_hash_exchange</code></pre><figure id=\"041ec1f3-5633-45cb-9cc7-94e2952990a4\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled%204.png\"><img style=\"width:1338px\" src=\"/images/notion/rabbitmq/Untitled%204.png\"/></a></figure><ul id=\"386292b3-3d3c-4c11-aa41-d6a0620b9f06\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">type: x-consistent-hash đã đc bật ở bước trên</li></ul><ul id=\"035310f3-a8af-483a-a9d7-e623d804129f\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">routing key càng lớn thì càng nhận đc nhiều message</li></ul><figure id=\"caf1d47a-d0b5-49ee-be8a-31e3824eaf63\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled%205.png\"><img style=\"width:841px\" src=\"/images/notion/rabbitmq/Untitled%205.png\"/></a></figure><h2 id=\"072c9aa7-904f-42f2-99e5-fa0d62c2a51a\" class=\"\">Dead letter exchange</h2><figure id=\"78cff4e2-f87b-4350-9a7f-864c60fd050c\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled%206.png\"><img style=\"width:1429px\" src=\"/images/notion/rabbitmq/Untitled%206.png\"/></a></figure><ul id=\"4cad3d41-628c-4b47-abc3-be9756764ae9\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">x-dead-letter-exchange = <a href=\"http://ex.dlx.exchange\">ex.dlx.exchange</a> (chỉ định tên của dead letter exchange)</li></ul><ul id=\"ecd2d37c-455e-4c6b-8d83-889a34c057dd\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">x-message-ttl = 20000 (nếu message ở trong queue quá 20s thì nó sẽ đc move vào ex.dlx.exchange)</li></ul><ul id=\"6ee749f3-4faa-4eb0-84bc-85a63af9d64a\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Khi consumer đọc message với nACK và requeue = false thì msg  sẽ đc move vào ex.dlx.exchange</li></ul><h2 id=\"f1de5e31-d995-4529-a191-d1ef9a255a96\" class=\"\">Data safety</h2><ul id=\"47c60444-1818-4827-9161-8268e91bc322\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Chọn durable queue, durable exchange, persistent message<p id=\"58437451-3987-463f-a52f-36eb8024d303\" class=\"\">⇒ Đảm bảo RabbitMQ restart hoặc failre thì ko mất data</p></li></ul><ul id=\"8c613b64-9503-46c8-a17f-0a6518eca995\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Consumer manual confirm</li></ul><ul id=\"d419c0a8-f6a8-496f-a81c-7eb0163bbf2d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Sử dụng transaction</li></ul><ul id=\"95288fca-58af-44e7-a1c2-d92fde33794d\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Sử dụng pulisher confirm, tức là chờ cho consumer confirm lại <ul id=\"1221e9b0-0d1a-416b-b99d-c6f7ca2daa6e\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Chú ý hiệu năng</li></ul><ul id=\"b3d45fab-25a6-4819-8368-b21708749f46\" class=\"bulleted-list\"><li style=\"list-style-type:circle\">Có thể dùng confirm in batch</li></ul></li></ul><h2 id=\"367b79a1-8e2c-401a-bc66-c067a9f942fe\" class=\"\">Virtual host</h2><ul id=\"4c7b827b-8633-454f-a08a-d53a2cd3b7ec\" class=\"bulleted-list\"><li style=\"list-style-type:disc\">Để phân chia logic theo group</li></ul><figure id=\"70bee8bc-31b8-48ba-848f-9922ba96cb04\" class=\"image\"><a href=\"/images/notion/rabbitmq/Untitled%207.png\"><img style=\"width:578.991455078125px\" src=\"/images/notion/rabbitmq/Untitled%207.png\"/></a></figure><p id=\"4116b365-c5cd-4c0a-912c-433303277d36\" class=\"\">\n</p><p id=\"f153fc33-3ac9-4273-8ca1-5843bb200693\" class=\"\">\n</p><p id=\"b857f4b5-d580-41a4-a39e-e1924355c6f3\" class=\"\">\n</p></div></article><span class=\"sans\" style=\"font-size:14px;padding-top:2em\"></span></body></html>', 'images/image_10.jpg', '2024-06-02 21:36:36', 1, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `subscribe`
--

CREATE TABLE `subscribe` (
  `id` int(11) NOT NULL,
  `create_datetime` datetime DEFAULT NULL,
  `email` varchar(255) DEFAULT NULL,
  `status` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `id` bigint(20) NOT NULL,
  `username` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `first_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `last_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `password` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `salt` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `create_datetime` datetime DEFAULT NULL,
  `img_url` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `status` int(11) DEFAULT NULL,
  `role` varchar(45) DEFAULT NULL,
  `provider` varchar(15) DEFAULT NULL,
  `email` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`id`, `username`, `first_name`, `last_name`, `password`, `salt`, `create_datetime`, `img_url`, `status`, `role`, `provider`, `email`) VALUES
(1, 'vuva', 'Anh Vu', 'Vu', '123456', '123456', '2024-02-22 21:10:46', '/images/avartar.jpg', 1, NULL, NULL, '');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `comment`
--
ALTER TABLE `comment`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `post`
--
ALTER TABLE `post`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `post_id_uindex` (`id`);

--
-- Indexes for table `subscribe`
--
ALTER TABLE `subscribe`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `comment`
--
ALTER TABLE `comment`
  MODIFY `id` bigint(20) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `post`
--
ALTER TABLE `post`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;

--
-- AUTO_INCREMENT for table `subscribe`
--
ALTER TABLE `subscribe`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `id` bigint(20) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
